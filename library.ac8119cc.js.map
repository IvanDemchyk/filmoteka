{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAO,CACXC,OAAQC,SAASC,cAAc,WAC/BC,QAASF,SAASC,cAAc,sBAChCE,QAASH,SAASC,cAAc,sBAChCG,WAAYJ,SAASC,cAAc,iBACnCI,YAAaL,SAASM,uBAAuB,iBAE/CR,EAAKI,QAAQK,iBAAiB,SAmB9B,YACEC,GAAUC,GACG,IACXD,EAAuB,EAAdC,GAEXX,EAAKM,WAAWM,MAAMC,MAAQH,EAAS,I,IAvBzCV,EAAKK,QAAQI,iBAAiB,SAS9B,YACEC,GAAUC,GACiB,EAAdA,IACXD,EAAS,GAGXV,EAAKM,WAAWM,MAAMC,MAAQH,EAAS,I,IAbzC,IAGIC,EAAcX,EAAKM,WAAWQ,YAClCC,QAAQC,IAAIL,GACZ,IAAID,EAAS,GA8Cb,EAAAZ,EAAAmB,aAnDa,GAmDKC,MAAK,SAAAC,GAIrB,IAHA,IAAMC,EAAYD,EAAIE,QAAQC,OAAS,EAEjCC,EAAgB,GACbC,EAAI,EAAGA,GAAKJ,EAAWI,IAC1BL,EAAIE,QAAQG,IACdD,EAAcE,KAAKN,EAAIE,QAAQG,IAInCE,aAAaC,QAAQC,EAAAC,eAAgBC,KAAKC,UAAUR,IACpDvB,EAAKM,WAAW0B,mBACd,YACkBF,KAAKG,MAAMP,aAAaQ,QAAQN,EAAAC,iBAtCjDM,KACC,SAAAC,G,IACEC,EAAWD,EAAXC,YAEAC,GADIF,EAAJG,KACKH,EAALE,OAIAE,GAHSJ,EAATK,UACQL,EAARM,SACYN,EAAZO,aACEP,EAAFI,IACAI,EAAYR,EAAZQ,aAEA,MAAO,mCAG2DC,OAF3CL,EAAG,yHAE6DK,OAArBR,EAAY,WAC1CQ,OADmDP,EAAM,mEAC5CO,OAAbD,EAAa,wC,IAMpDE,KAAK,KAmBR/B,QAAQC,IAAIO,E","sources":["src/js/library-slider.js"],"sourcesContent":["import { fetchMovies } from './fetchMovie';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local.js';\n\nconst refs = {\n  slider: document.querySelector('.slider'),\n  btnPrev: document.querySelector('.slider__btn--prev'),\n  btnNext: document.querySelector('.slider__btn--next'),\n  sliderList: document.querySelector('.slider__list'),\n  sliderItems: document.getElementsByClassName('slider__item'),\n};\nrefs.btnPrev.addEventListener('click', onClickPrev);\nrefs.btnNext.addEventListener('click', onClickNext);\n\nconst page = 1;\n// const request = `/day`;\n\nlet sliderWidth = refs.sliderList.clientWidth;\nconsole.log(sliderWidth);\nlet offset = 0;\n\nfunction onClickNext() {\n  offset += sliderWidth;\n  if (offset > sliderWidth * 3) {\n    offset = 0;\n  }\n\n  refs.sliderList.style.left = -offset + 'px';\n}\n\nfunction onClickPrev() {\n  offset -= sliderWidth;\n  if (offset < 0) {\n    offset = sliderWidth * 3;\n  }\n  refs.sliderList.style.left = -offset + 'px';\n}\n\nfunction createSliderItems(data) {\n  let markup = data\n    .map(\n      ({\n        poster_path,\n        name,\n        title,\n        genre_ids,\n        overview,\n        release_date,\n        id,\n        vote_average,\n      }) => {\n        return `\n<li class=\"slider__item\" id='${id}'>\n      <a class=\"slider__link\" href=\"\">\n        <img class=\"slider__photo\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${title}\" loading=\"lazy\" />\n        <p class=\"slider__rating\">Rating: ${vote_average}</p>\n      </a>\n    </li>\n        `;\n      }\n    )\n    .join('');\n  return markup;\n}\n\nfetchMovies(page).then(res => {\n  const qvtMovies = res.results.length - 1;\n\n  const popularMovies = [];\n  for (let i = 0; i <= qvtMovies; i++) {\n    if (res.results[i]) {\n      popularMovies.push(res.results[i]);\n    }\n  }\n\n  localStorage.setItem(CURRENT_MOVIES, JSON.stringify(popularMovies));\n  refs.sliderList.insertAdjacentHTML(\n    'beforeend',\n    createSliderItems(JSON.parse(localStorage.getItem(CURRENT_MOVIES)))\n  );\n  console.log(popularMovies);\n});\n"],"names":["$4cG42","parcelRequire","$b28eb9297935494e$var$refs","slider","document","querySelector","btnPrev","btnNext","sliderList","sliderItems","getElementsByClassName","addEventListener","$b28eb9297935494e$var$offset","$b28eb9297935494e$var$sliderWidth","style","left","clientWidth","console","log","fetchMovies","then","res","qvtMovies","results","length","popularMovies","i","push","localStorage","setItem","$Ur9Nn","CURRENT_MOVIES","JSON","stringify","insertAdjacentHTML","parse","getItem","map","param","poster_path","title","name","id","genre_ids","overview","release_date","vote_average","concat","join"],"version":3,"file":"library.ac8119cc.js.map"}