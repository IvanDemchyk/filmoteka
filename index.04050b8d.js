var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n),n("2rpgd"),n("csVsy"),n("b4t8q"),n("9eEKU");var l=n("9eEKU");document.querySelector(".form-js"),document.querySelector(".form-input"),document.querySelector(".form__notification");var s=n("2hTmC");l.card.addEventListener("click",s.showMovieMain);l=n("9eEKU");var c=n("csVsy");l=n("9eEKU");function a(e){localStorage.setItem(l.CURRENT_MOVIES,JSON.stringify(e)),l.card.innerHTML=(0,c.createMovieCard)(JSON.parse(localStorage.getItem(l.CURRENT_MOVIES)).results)}var i=n("2shzp");async function r(e,t,o){try{return(await i.default.get(`https://api.themoviedb.org/3/search/movie?api_key=0b11624b950ea9c4284f61844023b09c&query=${t}&page=${e}$language=${o}`)).data}catch(e){throw new Error(response.statusText)}}var d=n("b4t8q");l=n("9eEKU");const u=document.querySelector(".theme__control"),g=document.querySelector(".toolbar");document.querySelector(".js-pagination");let m,f=localStorage.getItem(l.THEME);!function(){if(null===f)return;"light-theme"===f?(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),u.classList.remove("checked")):(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),u.classList.add("checked"))}(),g.addEventListener("click",(function(e){e.target.classList.contains("theme__control")&&u.classList.toggle("checked");u.classList.contains("checked")?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),localStorage.setItem(l.THEME,"dark-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),localStorage.setItem(l.THEME,"light-theme"))}));const h=document.querySelector(".js-pagination");function y(e,t){let o="",n=e-2,l=e-1,s=e+1,c=e+2;if(m=JSON.parse(localStorage.getItem("current_movies")).page,e>1&&(o+="<li class='arrows'>ðŸ¡¸</li>",o+="<li class='firstInt'>1</li>"),e>4&&(o+="<li class='dots'>...</li>"),e>3&&(o+=`<li class='two-left'>${n}</li>`),e>2&&(o+=`<li>${l}</li>`),o+=`<li class='active'>${e}</li>`,t-1>e&&(o+=`<li >${s}</li>`),t-2>e&&(o+=`<li >${c}</li>`),t-3>e&&(o+="<li class='dots'>...</li>"),t>e&&(o+=`<li class='lastInt'>${t}</li>`,o+="<li class='arrows'>ðŸ¡º</li>"),h.innerHTML=o,u.classList.contains("checked")){[...h.children].forEach((e=>{e.classList.toggle("dark")}))}}let p=document.querySelector(".preloader");function v(){p.style.display="flex"}function w(){setTimeout((()=>{p.style.display="none"}),500)}const L=document.querySelector(".js-pagination"),E=document.querySelector(".form-js"),S=document.querySelector(".form-input"),b=document.querySelector(".form__notification");let k,_=1;async function q(e=1){let t;return k?(v(),t=await r(e,k),_=t.page,window.onload=w(),t):(v(),t=await(0,d.fetchTrends)(e),window.onload=w(),_=t.page,t)}E.addEventListener("submit",(async function(e){e.preventDefault();let t=S.value.trim();if(!t)return;try{const e=await r(1,t);if(0===e.results.length)return b.style.visibility="visible",void setTimeout((()=>{b.style.visibility="hidden"}),5e3);_=e.page,v(),a(e),window.onload=w(),k=t,y(e.page,e.total_pages)}catch(e){console.log("Error"),errorMsg}})),q().then((e=>{v(),a(e),_=e.page,window.onload=w(),y(e.page,e.total_pages)})),L.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent)console.log("Arrov<-",_),q(_-=1).then((e=>{a(e),y(e.page,e.total_pages)}));else if("ðŸ¡º"===e.target.textContent)console.log("Arrov>-",_),q(_+=1).then((e=>{a(e),y(e.page,e.total_pages)}));else{const t=e.target.textContent;console.log("in current - ",_),q(t).then((e=>{a(e),y(e.page,e.total_pages)}))}})),n("2hTmC");const T=document.querySelector(".btn-up");T.addEventListener("click",(function e(){let t=window.scrollY/20;window.scrollY>0&&(window.scrollBy(0,-t),setTimeout(e,0))})),window.addEventListener("scroll",(function(){let e=window.scrollY,t=document.documentElement.clientHeight;e<t?T.classList.add("show"):T.classList.remove("show")}));l=n("9eEKU");const I=document.querySelector(".lang__control"),M=document.querySelector(".lang");let x;let N=localStorage.getItem(l.LANG);!function(){if(null===N)return;"english"===N?(x="en",I.classList.remove("checked")):(x="uk",I.classList.add("checked"))}(),M.addEventListener("click",(function(e){e.target.classList.contains("lang__control")&&I.classList.toggle("checked");I.classList.contains("checked")?(x="en",localStorage.setItem(l.LANG,"ukranian")):(x="uk",localStorage.setItem(l.LANG,"english"))}));
//# sourceMappingURL=index.04050b8d.js.map
