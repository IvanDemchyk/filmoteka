{"mappings":"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","sources":["src/js/local.js","src/js/createMovieCard.js","src/js/genresConvertor.js","src/js/get-genres.js","src/js/modal-window.js","src/js/trailer.js","src/js/loader.js","src/js/btn-up.js"],"sourcesContent":["export const CURRENT_MOVIES = 'current_movies';\nexport const WATCHE = 'watche';\nexport const QUEUE = 'queue';\nexport const watche = JSON.parse(localStorage.getItem(WATCHE)) || [];\nexport const queue = JSON.parse(localStorage.getItem(QUEUE)) || [];\nexport const card = document.querySelector('.card');\nexport const logo = document.querySelector('.page-header__logo-title');\nexport const home = document.querySelector('.home');\nexport const library = document.querySelector('.library');\nexport const THEME = 'theme';\nexport const LANG = 'language';\n","import { genresConvertor } from './genresConvertor';\nexport function createMovieCard(data) {\n  const markup = data\n    .map(\n      ({\n        poster_path,\n        original_title = '',\n        title = '',\n        genre_ids,\n        overview = '',\n        release_date = '',\n        id = Date.now(),\n      }) => {\n        let release;\n        if (release_date === '') {\n          release = 'no date';\n        } else {\n          release = release_date.substr(0, 4);\n        }\n        let path;\n        if (poster_path) {\n          path = 'https://image.tmdb.org/t/p/w500/' + poster_path;\n        } else {\n          path = 'https://picsum.photos/500/750';\n        }\n        const altPath = './images/no-file-opt.jpg';\n        //  <img src=\"./images/no-file-opt.jpg\" alt=\"A brilliant.\">\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src='${path}' loading=\"lazy\" alt=\"${overview}\" class=\"card__img\" />\n            <h2 class=\"card__title\">${title ?? original_title}</h2>\n            <p class=\"card__desc\">${genresConvertor(genre_ids).join(\n              ', '\n            )} | ${release}\n            </p>\n            </li>`;\n      }\n    )\n    .join('');\n  return markup;\n}\n","// ---- Genres converting function - замінює id жанрів в картці фільму на назви жанрів\nimport { GENRES_MOVIES } from './get-genres'\nexport function genresConvertor(genre_ids) {\n  const result = genre_ids.map(id => {\n    const objectNumbersInString = JSON.parse(localStorage.getItem(GENRES_MOVIES));\n    return objectNumbersInString[id];\n  });\n  if (result.length > 2) {\n    result.splice(2, result.length - 2);\n    result.push(\"Other\")\n  } else if (result.length === 0) {\n    result.push(\"no genres\")\n  }\n  return result\n}\n","export const GENRES_MOVIES = 'genresList';\nconst fetchedGenres = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US`\n  ).then(data => data.json());\n};\n\nfetchedGenres().then(onFetchSuccess);\n\nfunction onFetchSuccess(respond) {\n  const genresList = respond.genres.reduce((acc, { id, name }) => {\n    acc[id] = name;\n    return acc;\n  }, {});\n  localStorage.setItem(GENRES_MOVIES, JSON.stringify(genresList));\n}\n","import { CURRENT_MOVIES, watche, queue, WATCHE, QUEUE } from './local.js';\nimport { GENRES_MOVIES } from './get-genres';\nimport { createMovieCard } from './createMovieCard';\nimport { card } from './local';\nimport { trailerInst } from './trailer';\n\nconst backdrop = document.querySelector('.backdrop');\nconst modalMovie = document.querySelector('.modal__movie');\nconst watchedBtn = document.querySelector('.watched-btn-js');\nconst libraryHeaderLink = document.querySelector('.js-library');\nconst libraryMainContainer = document.querySelector('#main');\nconst libraryHeader = document.querySelector('.library-header');\nconst librarySlider = document.querySelector('#slider');\n\nasync function showMovieMain(e) {\n  const film = getFilmMain(e, '.card__item', CURRENT_MOVIES);\n\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n\n  const trailerLink = await trailerInst(film.id);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue, trailerLink);\n\n  backdrop.hidden = false;\n}\n\nasync function showMovieLibrary(e) {\n  const film = getFilmLibrary(e, '.card__item', watchedOrQueue());\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n  const trailerLink = await trailerInst(film.id);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue, trailerLink);\n\n  backdrop.hidden = false;\n}\n\nfunction getFilmMain(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n  return JSON.parse(localStorage.getItem(fromStoarage)).results.find(\n    movie => movie.id === movieId\n  );\n}\n\nfunction getFilmLibrary(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n  return JSON.parse(localStorage.getItem(fromStoarage)).find(\n    movie => movie.id === movieId\n  );\n}\n\n// розмітка з інфо про фільм у модальному вікні\nfunction createMovieInfo(\n  movie,\n  genresList,\n  checkWatched,\n  checkQueue,\n  trailer = ''\n) {\n  const modalMovieMarkup = `<div class=\"movie__img-container\">\n  <img class='movie__img'\n    alt=\"movie poster\"\n    src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\"\n  />\n</div>\n      <div class=\"movie__info\">\n      <h2 class=\"movie__title\">${movie.title}</h2>\n      <table class=\"movie__details\">\n      <tbody>\n      <tr>\n      <td class='movie__detail modal-text--left-column modal-text'>Vote/Votes</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">\n      <span class=\"movie__detail--accent\">\n      ${movie.vote_average.toFixed(1)} </span\n      >/ ${movie.vote_count}\n      </td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Popularity</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">${movie.popularity.toFixed(\n        1\n      )}</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Original title</td>\n      <td class=\"movie__detail modal-text modal-text--uppercase movie__detail-right-column\">${\n        movie.original_title\n      }</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Genres</td>\n      <td class=\"movie__detail modal-text movie__detail-right-column\">${genresConvertor(\n        movie.genre_ids,\n        genresList\n      )}</td>\n      </tr>\n          </tbody>\n          </table>\n          \n          <h3 class=\"movie__about modal-text modal-text--uppercase\">About</h3>\n      <p class=\"movie__description modal-text\">${movie.overview}</p>\n      \n      <div class=\"movie__add-buttons\">\n      ${trailer}\n        <button class=\"modal__movie-btn modal-text modal-text--uppercase js-movie__add-btn--watched\">${\n          checkWatched ? 'remove from ' : 'add to '\n        }watched</button>\n        <button class=\"modal__movie-btn modal-text modal-text--uppercase js-movie__add-btn--queue\">${\n          checkQueue ? 'remove from ' : 'add to '\n        }queue</button>\n      </div>\n      </div>\n  `;\n  modalMovie.id = movie.id;\n  modalMovie.innerHTML = modalMovieMarkup;\n  eventListeners(closeModal, addFilm);\n}\n\n// функції для закриття модального вікна\nconst closeModal = {\n  onBackdropClick(e) {\n    if (e.target.parentElement.nodeName === 'BODY') {\n      backdrop.hidden = true;\n      backdrop.removeEventListener('click', this.onBackdropClick);\n    }\n  },\n\n  onEsc(e) {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    backdrop.hidden = true;\n    document.removeEventListener('keydown', this.onEsc);\n  },\n\n  onCloseBtn() {\n    backdrop.hidden = true;\n  },\n};\n\n// функції додавання фільмів у список переглянутих та у чергу\nconst addFilm = {\n  toWatched(e) {\n    if (e.currentTarget.textContent === 'add to watched') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        watche,\n        WATCHE,\n        'watched'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', watche, WATCHE, 'watched');\n    }\n  },\n\n  toQueue(e) {\n    if (e.currentTarget.textContent === 'add to queue') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        queue,\n        QUEUE,\n        'queue'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', queue, QUEUE, 'queue');\n    }\n  },\n};\n\nfunction addToWatchedOrQueue(e, element, fromStoarage, local, key, btn) {\n  const film = getFilmMain(e, element, fromStoarage);\n  local.push(film);\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `remove from ${btn}`;\n  if (libraryHeaderLink.classList.contains('current')) {\n    card.innerHTML = reRenderLibrary(\n      JSON.parse(localStorage.getItem(watchedOrQueue()))\n    );\n  }\n}\n\nfunction removeFromWatchedOrQueue(e, element, local, key, btn) {\n  const films = JSON.parse(localStorage.getItem(key));\n  const movieId = Number(e.target.closest(element).id);\n  films.forEach((film, i) => {\n    film.id === movieId ? local.splice(i, 1) : film;\n  });\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `add to ${btn}`;\n  if (libraryHeaderLink.classList.contains('current')) {\n    card.innerHTML = reRenderLibrary(\n      JSON.parse(localStorage.getItem(watchedOrQueue()))\n    );\n  }\n}\n\n// додає та видаляє слухачі подій\nfunction eventListeners(closeModal, addFilm) {\n  const modalCloseBtn = document.querySelector('.modal-window__close-btn');\n  const modalBtns = {\n    addToWatched: document.querySelector('.js-movie__add-btn--watched'),\n    addToQueue: document.querySelector('.js-movie__add-btn--queue'),\n  };\n\n  modalBtns.addToWatched.addEventListener('click', addFilm.toWatched);\n  modalBtns.addToQueue.addEventListener('click', addFilm.toQueue);\n  modalCloseBtn.addEventListener('click', closeModal.onCloseBtn);\n  backdrop.addEventListener('click', closeModal.onBackdropClick);\n  document.addEventListener('keydown', closeModal.onEsc);\n}\n\nfunction genresConvertor(movieGenres, genresList) {\n  return movieGenres\n    .map(genre => {\n      const allGenres = JSON.parse(localStorage.getItem(genresList));\n      return allGenres[genre];\n    })\n    .join(', ');\n}\n\nfunction checkLibrary(local, film) {\n  if (local.length === 0) {\n    return;\n  }\n\n  return local.find(movie => movie.id === film.id);\n}\n\nfunction watchedOrQueue() {\n  if (watchedBtn.classList.contains('active')) {\n    return WATCHE;\n  } else {\n    return QUEUE;\n  }\n}\n\nfunction reRenderLibrary(filmsFromStorage) {\n  if (!filmsFromStorage || !filmsFromStorage.length) {\n    libraryMainContainer.classList.add('notification-bcg');\n    libraryHeader.classList.add('library-header-notification');\n    librarySlider.classList.add('slider-bcg');\n    return `<p class=\"notification-desc\">\n            Nothing here yet, go back and select a movie.\n            </p>`;\n  }\n\n  libraryHeader.classList.remove('library-header-notification');\n  libraryMainContainer.classList.remove('notification-bcg');\n  librarySlider.classList.remove('slider-bcg');\n  return createMovieCard(filmsFromStorage);\n}\n\nexport { showMovieMain, showMovieLibrary };\n","import axios from 'axios';\nconst KEY_API = '0b11624b950ea9c4284f61844023b09c';\n\nasync function getfetchTrailer(film) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${film}/videos?api_key=${KEY_API}&language=en`\n    );\n    return response.data;\n  } catch (err) {\n    throw new Error(response.statusText);\n  }\n}\n\nfunction filterNameTrailer({ results }) {\n  return results.filter(({ name }) => name.toLowerCase().includes('trailer'));\n}\n\nfunction trailerLink(trailerObj) {\n  return `<button class='modal__movie-btn modal-text modal-text--uppercase trailer-btn' \"><a href=\"https://www.youtube.com/embed/${trailerObj[0].key}\" target=\"_blank\">\n  Trailer in new window\n </a></button>`;\n}\n\nasync function trailerInst(film) {\n  const trailerInfo = await getfetchTrailer(film);\n\n  if (\n    trailerInfo.status_code === 34 ||\n    trailerInfo.status_code === 7 ||\n    trailerInfo.results.length === 0\n  ) {\n    return;\n  }\n\n  const trailerObj = await filterNameTrailer(trailerInfo);\n  if (trailerObj.length === 0) {\n    return;\n  }\n\n  trailerLink(trailerObj);\n\n  return trailerLink(trailerObj);\n}\n\nexport { trailerInst };\n","export let preloader = document.querySelector('.preloader');\n\nexport function loaderOn() {\n  preloader.style.display = 'flex';\n}\nexport function loaderOff() {\n  setTimeout(() => {\n    preloader.style.display = 'none';\n  }, 500);\n}\n","const btnUpElem = document.querySelector('.btn-up');\n\nbtnUpElem.addEventListener('click', scrollToTop);\nwindow.addEventListener('scroll', listenScroll);\n\nfunction listenScroll() {\n  let scrolled = window.scrollY;\n  let userHeight = document.documentElement.clientHeight;\n\n  scrolled < userHeight ? btnUpElem.classList.add('show') : btnUpElem.classList.remove('show');\n}\n\nfunction scrollToTop() {\n  let scrollStep = window.scrollY / 20;\n\n  if (window.scrollY > 0) {\n    window.scrollBy(0, -scrollStep);\n    setTimeout(scrollToTop, 0);\n  }\n}"],"names":["$6b9509140fd98767$export$48346d11afd5eac2","$6b9509140fd98767$export$7b6410247dc2be36","$6b9509140fd98767$export$5828682c822c26e7","$6b9509140fd98767$export$f4349c77a39598c6","JSON","parse","localStorage","getItem","$6b9509140fd98767$export$4f7fa46ff53e516f","$6b9509140fd98767$export$aa3e815946b80764","document","querySelector","$6b9509140fd98767$export$db3c28d99448dcff","$6b9509140fd98767$export$d12a05a2da93ee73","$6b9509140fd98767$export$b839f963c7dc0e34","$6b9509140fd98767$export$5714e40777c1bcc2","$6b9509140fd98767$export$ce37e184d908d785","$i5lY9","parcelRequire","$9134abd8877f9bb7$export$9d27b867a89df126","data","map","poster_path","original_title","title","genre_ids","overview","release_date","id","Date","now","release","path","substr","genresConvertor","join","$2rpgd","$d2a9bc40eacd6bf8$export$b5b6693b5298569f","result","GENRES_MOVIES","length","splice","push","$1c71b2a1096765e9$export$4ab1186d8955f042","fetch","then","json","respond","genresList","genres","reduce","acc","name","setItem","stringify","$9eEKU","$1aa81d6d0cd85e48$var$backdrop","$1aa81d6d0cd85e48$var$modalMovie","$1aa81d6d0cd85e48$var$watchedBtn","$1aa81d6d0cd85e48$var$libraryHeaderLink","$1aa81d6d0cd85e48$var$libraryMainContainer","$1aa81d6d0cd85e48$var$libraryHeader","$1aa81d6d0cd85e48$var$librarySlider","async","$1aa81d6d0cd85e48$export$2178a47645a3acc9","e","film","$1aa81d6d0cd85e48$var$getFilmMain","CURRENT_MOVIES","checkWatched","$1aa81d6d0cd85e48$var$checkLibrary","watche","checkQueue","queue","trailerLink","$37v9V","trailerInst","$1aa81d6d0cd85e48$var$createMovieInfo","hidden","$1aa81d6d0cd85e48$export$9f53221e00494c00","element","fromStoarage","movieId","Number","target","closest","find","movie","$1aa81d6d0cd85e48$var$getFilmLibrary","$1aa81d6d0cd85e48$var$watchedOrQueue","results","trailer","modalMovieMarkup","vote_average","toFixed","vote_count","popularity","movieGenres","genre","$1aa81d6d0cd85e48$var$genresConvertor","innerHTML","closeModal1","addFilm1","modalCloseBtn","modalBtns","addToWatched","addToQueue","addEventListener","toWatched","toQueue","onCloseBtn","onBackdropClick","onEsc","$1aa81d6d0cd85e48$var$eventListeners","$1aa81d6d0cd85e48$var$closeModal","$1aa81d6d0cd85e48$var$addFilm","parentElement","nodeName","removeEventListener","this","code","currentTarget","textContent","$1aa81d6d0cd85e48$var$addToWatchedOrQueue","WATCHE","$1aa81d6d0cd85e48$var$removeFromWatchedOrQueue","QUEUE","local","key","btn","classList","contains","card","$1aa81d6d0cd85e48$var$reRenderLibrary","films","forEach","i","filmsFromStorage","remove","$csVsy","createMovieCard","add","$2shzp","$245a3218de44461e$var$trailerLink","trailerObj","$245a3218de44461e$export$353bc1f51cbb2cd0","trailerInfo","default","get","err","Error","response","statusText","$245a3218de44461e$var$getfetchTrailer","status_code","filter","toLowerCase","includes","$245a3218de44461e$var$filterNameTrailer","$bdfcdc80b4c38739$export$8ddba6b40106a7ae","$bdfcdc80b4c38739$export$f53cf5ca8f68c5c3","style","display","$bdfcdc80b4c38739$export$3e13d68e5ea74e4f","setTimeout","$490109ca6304f8f0$var$btnUpElem","$490109ca6304f8f0$var$scrollToTop","scrollStep","window","scrollY","scrollBy","scrolled","userHeight","documentElement","clientHeight"],"version":3,"file":"library.697c430a.js.map"}