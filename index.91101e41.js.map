{"mappings":"AAAAA,QAAQC,IAAI,aCGUC,KAAKC,MAAMC,aAAaC,QAFxB,WAGDH,KAAKC,MAAMC,aAAaC,QAFxB,UCFrBL,QAAQC,IAAI,aAGZ,MAAMK,EAAOC,SAASC,cAAc,SFFrB,IAAwBC,KEiB5B,EFhBFC,MACL,kGAAkGD,KAClGE,MAAKC,GAAQA,EAAKC,UEeDF,MAAKG,IACxBV,aAAaW,QDpBe,iBCoBSb,KAAKc,UAAUF,EAAIG,UACxDX,EAAKY,mBACH,YACgBhB,KAAKC,MAAMC,aAAaC,QDvBd,mBCMzBc,KACC,EAACC,YAAEA,EAAWC,KAAEA,EAAIC,MAAEA,EAAKC,UAAEA,EAASC,SAAEA,EAAQC,aAAEA,EAAYC,GAAEA,KACvD,mCAAmCA,8DACMN,uEAClBC,UAAQC,qDACFC,OAAeE,EAAaE,OAAO,EAAE,8BAI5EC,KAAK,IASP","sources":["src/js/api-films.js","src/js/local.js","src/js/get-films.js"],"sourcesContent":["console.log(\"api-films\")\nexport default function getFetchMovies(p) {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=0b11624b950ea9c4284f61844023b09c&page=${p}`\n  ).then(data => data.json());\n}","export const CURRENT_MOVIES = \"current_movies\";\nexport const WATCHE = \"watche\";\nexport const QUEUE = \"queue\";\nexport const watche = JSON.parse(localStorage.getItem(WATCHE)) || [];\nexport const queue = JSON.parse(localStorage.getItem(QUEUE)) || [];\n","console.log('get-films');\nimport getFetchMovies from './api-films.js';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local.js';\nconst card = document.querySelector('.card');\nfunction createMovieCard(data) {\n  const mov = data\n    .map(\n      ({ poster_path, name, title, genre_ids, overview, release_date, id }) => {\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" class=\"card__img\" />\n            <h2 class=\"card__title\">${name ?? title}</h2>\n            <p class=\"card__desc\">Genres: ${genre_ids} | ${release_date.substr(0,4)}</p>\n            </li>`;\n      }\n    )\n    .join('');\n  return mov;\n}\nlet page = 1;\ngetFetchMovies(page).then(res => {\n  localStorage.setItem(CURRENT_MOVIES, JSON.stringify(res.results));\n  card.insertAdjacentHTML(\n    'beforeend',\n    createMovieCard(JSON.parse(localStorage.getItem(CURRENT_MOVIES)))\n  );\n});\n\n// card.addEventListener('click', e => {\n//   console.dir(e.target.textContent);\n//   let saveData = JSON.parse(localStorage.getItem(CURRENT_MOVIES));\n//   console.log(saveData);\n//   saveData.forEach(el =>\n//     el.title === e.target.textContent ? watche.push(el) : console.log('no')\n//   );\n//   console.log(watche);\n//   localStorage.setItem(WATCHE, JSON.stringify(watche));\n// //   const r = saveData.filter((el) => {\n// //     el.title ?? el.name === e.target.textContent;\n// //     console.log(el);\n// //   });\n// //   console.log(r);\n// //   watche.push(r);\n// //   console.log(watche);\n// //   localStorage.setItem(WATCHE, watche.push(JSON.stringify(r)));\n// });\n"],"names":["console","log","JSON","parse","localStorage","getItem","$6b1006aab5c2c600$var$card","document","querySelector","p","fetch","then","data","json","res","setItem","stringify","results","insertAdjacentHTML","map","poster_path","name","title","genre_ids","overview","release_date","id","substr","join"],"version":3,"file":"index.91101e41.js.map"}