!function(){var e=JSON.parse(localStorage.getItem("watche"))||[],t=JSON.parse(localStorage.getItem("queue"))||[],n=document.querySelector(".card"),a="genresList";function c(e){var t=e.map((function(e){return JSON.parse(localStorage.getItem(a))[e]}));return t.length>2&&(t.splice(2,t.length-2),t.push("other")),t}function r(e){return e.map((function(e){var t=e.poster_path,n=e.original_title,a=e.title,r=e.genre_ids,i=e.overview,s=e.release_date,o=e.id;return'<li class="card__item list" id="'.concat(o,'">\n            <img src="https://image.tmdb.org/t/p/w500/').concat(t,'" loading="lazy" alt="').concat(i,'" class="card__img" />\n            <h2 class="card__title">').concat(null!=a?a:n,'</h2>\n            <p class="card__desc">').concat(c(r).join(", ")," | ").concat(s.substr(0,4),"\n            </p>\n            </li>")})).join("")}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US").then((function(e){return e.json()})).then((function(e){var t=e.genres.reduce((function(e,t){var n=t.id,a=t.name;return e[n]=a,e}),{});localStorage.setItem(a,JSON.stringify(t))}));var i=document.querySelector("#main"),s=document.querySelector(".library-header");function o(e){return e&&e.length?(s.classList.remove("library-header-notification"),i.classList.remove("notification-bcg"),r(e)):(i.classList.add("notification-bcg"),s.classList.add("library-header-notification"),'<p class="notification-desc">\n            Nothing here yet, go back and select a movie.\n            </p>')}n.insertAdjacentHTML("beforeend",o(e));var l=document.querySelector(".watched-btn-js"),d=document.querySelector(".queue-btn-js");function u(e,t,n){n.classList.add(e),t.classList.remove(e)}document.querySelector(".library-header__buttons").addEventListener("click",(function(a){var c=a.target;if(!c.classList.contains("library-header__btn"))return;c.classList.contains("queue-btn-js")&&(n.innerHTML="",n.insertAdjacentHTML("beforeend",o(t)),u("active",l,c));c.classList.contains("watched-btn-js")&&(n.innerHTML="",n.insertAdjacentHTML("beforeend",o(e)),u("active",d,c))}));var g=document.querySelector(".watched-btn-js"),m=document.querySelector(".queue-btn-js");m.addEventListener("click",(function(){m.classList.add("active"),g.classList.remove("active")}))}();
//# sourceMappingURL=library.e68cf390.js.map
