{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,WAC/BC,QAASF,SAASC,cAAc,sBAChCE,QAASH,SAASC,cAAc,sBAChCG,WAAYJ,SAASC,cAAc,iBACnCI,YAAaL,SAASM,uBAAuB,iBAE/CR,EAAKI,QAAQK,iBAAiB,SAmB9B,WACEC,GAAUC,EACND,EAAS,IACXA,EAAuB,EAAdC,GAEXX,EAAKM,WAAWM,MAAMC,MAAQH,EAAS,I,IAvBzCV,EAAKK,QAAQI,iBAAiB,SAS9B,WACEC,GAAUC,EACND,EAAuB,EAAdC,IACXD,EAAS,GAGXV,EAAKM,WAAWM,MAAMC,MAAQH,EAAS,I,IAVzC,IAAIC,EAAcX,EAAKM,WAAWQ,YAClCC,QAAQC,IAAIL,GACZ,IAAID,EAAS,GA8Cb,EAAAZ,EAAAmB,aAnDa,GAmDKC,MAAKC,IACrB,MAAMC,EAAYD,EAAIE,QAAQC,OAAS,EAEjCC,EAAgB,GACtB,IAAK,IAAIC,EAAI,EAAGA,GAAKJ,EAAWI,IAC1BL,EAAIE,QAAQG,IACdD,EAAcE,KAAKN,EAAIE,QAAQG,IAInCE,aAAaC,QAAQC,EAAAC,eAAgBC,KAAKC,UAAUR,IACpDvB,EAAKM,WAAW0B,mBACd,YACkBF,KAAKG,MAAMP,aAAaQ,QAAQN,EAAAC,iBAtCjDM,KACC,EAACC,YACCA,EAAWC,KACXA,EAAIC,MACJA,EAAKC,UACLA,EAASC,SACTA,EAAQC,aACRA,EAAYC,GACZA,EAAEC,aACFA,KAEO,kCACgBD,wHAE2CN,WAAqBE,mEACnDK,2CAMvCC,KAAK,KAmBR7B,QAAQC,IAAIO,EAAc","sources":["src/js/library-slider.js"],"sourcesContent":["import { fetchMovies } from './fetchMovie';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local.js';\n\nconst refs = {\n  slider: document.querySelector('.slider'),\n  btnPrev: document.querySelector('.slider__btn--prev'),\n  btnNext: document.querySelector('.slider__btn--next'),\n  sliderList: document.querySelector('.slider__list'),\n  sliderItems: document.getElementsByClassName('slider__item'),\n};\nrefs.btnPrev.addEventListener('click', onClickPrev);\nrefs.btnNext.addEventListener('click', onClickNext);\n\nconst page = 1;\n// const request = `/day`;\n\nlet sliderWidth = refs.sliderList.clientWidth;\nconsole.log(sliderWidth);\nlet offset = 0;\n\nfunction onClickNext() {\n  offset += sliderWidth;\n  if (offset > sliderWidth * 3) {\n    offset = 0;\n  }\n\n  refs.sliderList.style.left = -offset + 'px';\n}\n\nfunction onClickPrev() {\n  offset -= sliderWidth;\n  if (offset < 0) {\n    offset = sliderWidth * 3;\n  }\n  refs.sliderList.style.left = -offset + 'px';\n}\n\nfunction createSliderItems(data) {\n  let markup = data\n    .map(\n      ({\n        poster_path,\n        name,\n        title,\n        genre_ids,\n        overview,\n        release_date,\n        id,\n        vote_average,\n      }) => {\n        return `\n<li class=\"slider__item\" id='${id}'>\n      <a class=\"slider__link\" href=\"\">\n        <img class=\"slider__photo\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${title}\" loading=\"lazy\" />\n        <p class=\"slider__rating\">Rating: ${vote_average}</p>\n      </a>\n    </li>\n        `;\n      }\n    )\n    .join('');\n  return markup;\n}\n\nfetchMovies(page).then(res => {\n  const qvtMovies = res.results.length - 1;\n\n  const popularMovies = [];\n  for (let i = 0; i <= qvtMovies; i++) {\n    if (res.results[i]) {\n      popularMovies.push(res.results[i]);\n    }\n  }\n\n  localStorage.setItem(CURRENT_MOVIES, JSON.stringify(popularMovies));\n  refs.sliderList.insertAdjacentHTML(\n    'beforeend',\n    createSliderItems(JSON.parse(localStorage.getItem(CURRENT_MOVIES)))\n  );\n  console.log(popularMovies);\n});\n"],"names":["$dNTj1","parcelRequire","$2a79e2dda92c1b57$var$refs","slider","document","querySelector","btnPrev","btnNext","sliderList","sliderItems","getElementsByClassName","addEventListener","$2a79e2dda92c1b57$var$offset","$2a79e2dda92c1b57$var$sliderWidth","style","left","clientWidth","console","log","fetchMovies","then","res","qvtMovies","results","length","popularMovies","i","push","localStorage","setItem","$9eEKU","CURRENT_MOVIES","JSON","stringify","insertAdjacentHTML","parse","getItem","map","poster_path","name","title","genre_ids","overview","release_date","id","vote_average","join"],"version":3,"file":"library.75037905.js.map"}