{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SCAaC,EAAgB,aCEtB,SAASC,EAAgBC,GAC9B,IAAMC,EAASD,EAAUE,KAAI,SAAAC,GAE3B,OAD8BC,KAAKC,MAAMC,aAAaC,QAAQT,IACjCK,E,IAM/B,OAJIF,EAAOO,OAAS,IAClBP,EAAOQ,OAAO,EAAGR,EAAOO,OAAS,GACjCP,EAAOS,KAAK,UAEPT,C,CCVF,SAASU,EAAgBC,GAuB9B,OAtBeA,EACZV,KACC,SAAAW,G,IACEC,EAAWD,EAAXC,YACAC,EAAcF,EAAdE,eACAC,EAAKH,EAALG,MACAhB,EAASa,EAATb,UACAiB,EAAQJ,EAARI,SACAC,EAAYL,EAAZK,aACAf,EAAEU,EAAFV,GAEA,MAAO,mCACyCgB,OADNhB,EAAG,8DACuCgB,OAApCL,EAAY,0BAC9BK,OADsDF,EAAS,gEAEjEE,OADEH,UAASD,EAAe,6CAG3CI,OAFiBpB,EAAgBC,GAAWoB,KACjD,MACA,OAA+BD,OAA1BD,EAAaG,OAAO,EAAG,GAAG,wC,IAKxCD,KAAK,G,CFrBDE,MACJ,yGACDC,MAAK,SAAAX,G,OAAQA,EAAKY,M,IAGND,MAEhB,SAAwBE,GACtB,IAAMC,EAAaD,EAAQE,OAAOC,QAAO,SAACC,EAAGhB,G,IAAIV,EAAEU,EAAFV,GAAI2B,EAAIjB,EAAJiB,KAEnD,OADAD,EAAI1B,GAAM2B,EACHD,C,GACN,IACHvB,aAAayB,QAAQjC,EAAeM,KAAK4B,UAAUN,G,qBDV/CO,EAAeC,SAASC,cAAc,SACtCC,EAASF,SAASC,cAAc,mBAE/B,SAASE,EAAoBzB,GAClC,OAAKA,GAASA,EAAKJ,QAOnB4B,EAAOE,UAAUC,OAAO,+BACxBN,EAAaK,UAAUC,OAAO,oBACvB5B,EAAgBC,KARrBqB,EAAaK,UAAUE,IAAI,oBAC3BJ,EAAOE,UAAUE,IAAI,+BACb,6G,CASZ5C,EAAA6C,KAAKC,mBAAmB,YAAaL,EAAoBzC,EAAA+C,SITzD/C,EAAAC,EAAA,S,aAAA,IAIM+C,EAAWV,SAASC,cAAc,mBAClCU,EAAWX,SAASC,cAAc,iBAmBxC,SAASW,EAAeC,EAAUC,EAAKC,GACrCA,EAAQX,UAAUE,IAAIO,GACtBC,EAAIV,UAAUC,OAAOQ,E,CAGvB,SAASG,EAAWC,GAClBvD,EAAA6C,KAAKW,UAAY,GACjBxD,EAAA6C,KAAKC,mBAAmB,YAAaL,EAAoBc,G,CAzBtCjB,SAASC,cAAc,4BAE/BkB,iBAAiB,SAE9B,SAAoBxC,G,IAAAyC,EAAAzC,EAAEyC,OACpB,IAAKA,EAAOhB,UAAUiB,SAAS,uBAC7B,OAEED,EAAOhB,UAAUiB,SAAS,kBAC5BL,EAAWtD,EAAA4D,OACXV,EAAe,SAAUF,EAAUU,IAEjCA,EAAOhB,UAAUiB,SAAS,oBAC5BL,EAAWtD,EAAA+C,QACXG,EAAe,SAAUD,EAAUS,G,IC/BvC,IAAMG,EAAavB,SAASC,cAAc,mBACpCuB,EAAWxB,SAASC,cAAc,iBACxCuB,EAASL,iBAAiB,SAC1B,WAIEK,EAASpB,UAAUE,IAAI,UACvBiB,EAAWnB,UAAUC,OAAO,S","sources":["src/js/libaryLocal.js","src/js/get-genres.js","src/js/genresConvertor.js","src/js/createMovieCard.js","src/js/watched.js","src/js/queue.js"],"sourcesContent":["import { watche, queue } from './local.js';\nimport { createMovieCard } from './createMovieCard';\nimport { card } from './local';\n\nconst divContainer = document.querySelector('#main');\nconst header = document.querySelector('.library-header');\n\nexport function checkDataRenderPage(data) {\n  if (!data || !data.length) {\n    divContainer.classList.add('notification-bcg');\n    header.classList.add('library-header-notification');\n    return `<p class=\"notification-desc\">\n            Nothing here yet, go back and select a movie.\n            </p>`;\n  }\n  header.classList.remove('library-header-notification');\n  divContainer.classList.remove('notification-bcg');\n  return createMovieCard(data);\n}\n\ncard.insertAdjacentHTML('beforeend', checkDataRenderPage(watche));\n","export const GENRES_MOVIES = 'genresList';\nconst fetchedGenres = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US`\n  ).then(data => data.json());\n};\n\nfetchedGenres().then(onFetchSuccess);\n\nfunction onFetchSuccess(respond) {\n  const genresList = respond.genres.reduce((acc, { id, name }) => {\n    acc[id] = name;\n    return acc;\n  }, {});\n  localStorage.setItem(GENRES_MOVIES, JSON.stringify(genresList));\n}\n","// ---- Genres converting function - замінює id жанрів в картці фільму на назви жанрів\nimport { GENRES_MOVIES } from './get-genres'\nexport function genresConvertor(genre_ids) {\n  const result = genre_ids.map(id => {\n    const objectNumbersInString = JSON.parse(localStorage.getItem(GENRES_MOVIES));\n    return objectNumbersInString[id];\n  });\n  if (result.length > 2) {\n    result.splice(2, result.length - 2);\n    result.push(\"other\")\n  }\n  return result\n}\n","import { genresConvertor } from \"./genresConvertor\";\nexport function createMovieCard(data) {\n  const markup = data\n    .map(\n      ({\n        poster_path,\n        original_title,\n        title,\n        genre_ids,\n        overview,\n        release_date,\n        id,\n      }) => {\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" loading=\"lazy\" alt=\"${overview}\" class=\"card__img\" />\n            <h2 class=\"card__title\">${title ?? original_title}</h2>\n            <p class=\"card__desc\">${genresConvertor(genre_ids).join(\n              ', '\n            )} | ${release_date.substr(0, 4)}\n            </p>\n            </li>`;\n      }\n    )\n    .join('');\n  return markup;\n}\n","// const watchedBtn = document.querySelector('.watched-btn-js');\n// const queueBtn = document.querySelector('.queue-btn-js');\n// watchedBtn.addEventListener('click', onClickWatchedBtn);\n// function onClickWatchedBtn() {\n//   onActiveWatchedBtn();\n// }\n// function onActiveWatchedBtn() {\n//   watchedBtn.classList.add('active');\n//   queueBtn.classList.remove('active');\n// }\n\nimport { watche, queue } from './local.js';\nimport { card } from './local';\nimport { checkDataRenderPage } from './libaryLocal';\n\nconst btnWatch = document.querySelector('.watched-btn-js');\nconst btnQueue = document.querySelector('.queue-btn-js');\nconst containerBtn = document.querySelector('.library-header__buttons');\n\ncontainerBtn.addEventListener('click', onClickBtn);\n\nfunction onClickBtn({ target }) {\n  if (!target.classList.contains('library-header__btn')) {\n    return;\n  }\n  if (target.classList.contains('queue-btn-js')) {\n    renderPage(queue);\n    toggleClassBtn('active', btnWatch, target);\n  }\n  if (target.classList.contains('watched-btn-js')) {\n    renderPage(watche);\n    toggleClassBtn('active', btnQueue, target);\n  }\n}\n\nfunction toggleClassBtn(classStr, btn, current) {\n  current.classList.add(classStr);\n  btn.classList.remove(classStr);\n}\n\nfunction renderPage(local) {\n  card.innerHTML = '';\n  card.insertAdjacentHTML('beforeend', checkDataRenderPage(local));\n}\n","const watchedBtn = document.querySelector('.watched-btn-js');\nconst queueBtn = document.querySelector('.queue-btn-js');\nqueueBtn.addEventListener('click', onClickQueueBtn);\nfunction onClickQueueBtn() {\n  onActiveQueueBtn();\n}\nfunction onActiveQueueBtn() {\n  queueBtn.classList.add('active');\n  watchedBtn.classList.remove('active');\n}\n"],"names":["$Ur9Nn","parcelRequire","$fab5075d8cb83450$export$4ab1186d8955f042","$5633099b30fcb21f$export$b5b6693b5298569f","genre_ids","result","map","id","JSON","parse","localStorage","getItem","length","splice","push","$d26123189b320653$export$9d27b867a89df126","data","param","poster_path","original_title","title","overview","release_date","concat","join","substr","fetch","then","json","respond","genresList","genres","reduce","acc","name","setItem","stringify","$b549bdb8c3ea1ad9$var$divContainer","document","querySelector","$b549bdb8c3ea1ad9$var$header","$b549bdb8c3ea1ad9$export$c7201ec45e1bf459","classList","remove","add","card","insertAdjacentHTML","watche","$a215baf1061f969f$var$btnWatch","$a215baf1061f969f$var$btnQueue","$a215baf1061f969f$var$toggleClassBtn","classStr","btn","current","$a215baf1061f969f$var$renderPage","local","innerHTML","addEventListener","target","contains","queue","$e45a8be9cfe57eeb$var$watchedBtn","$e45a8be9cfe57eeb$var$queueBtn"],"version":3,"file":"library.22937597.js.map"}