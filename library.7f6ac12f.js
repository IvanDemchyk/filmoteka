var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in i){var a=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequired7c6=a),a("9eEKU");function r(e){const t=e.map((e=>JSON.parse(localStorage.getItem("genresList"))[e]));return t.length>2&&(t.splice(2,t.length-2),t.push("other")),t}function s(e){return e.map((({poster_path:e,original_title:t,title:i,genre_ids:a,overview:s,release_date:n,id:l})=>`<li class="card__item list" id="${l}">\n            <img src="https://image.tmdb.org/t/p/w500/${e}" loading="lazy" alt="${s}" class="card__img" />\n            <h2 class="card__title">${i??t}</h2>\n            <p class="card__desc">${r(a).join(", ")} | ${n.substr(0,4)}\n            </p>\n            </li>`)).join("")}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US").then((e=>e.json())).then((function(e){const t=e.genres.reduce(((e,{id:t,name:i})=>(e[t]=i,e)),{});localStorage.setItem("genresList",JSON.stringify(t))})),a("9eEKU");var n=a("9eEKU");const l=document.querySelector(".js-pagination-lib");class c{paginate(e,t,i){return e.slice((t-1)*i,t*i)}paginationRender(){this.arr.length<5?n.card.innerHTML=L(this.arr):(this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),n.card.innerHTML=L(this.pagedArr),o(this.pageNum,this.pageAll))}pagLeft(){this.pageNum-=1,this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),n.card.innerHTML=L(this.pagedArr),o(this.pageNum,this.pageAll)}pagRight(){this.pageNum+=1,this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),n.card.innerHTML=L(this.pagedArr),o(this.pageNum,this.pageAll)}peakedPage(e){this.pageNum=Number(e),this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),n.card.innerHTML=L(this.pagedArr),o(this.pageNum,this.pageAll)}constructor(e){this.arr=e,this.pageNum=1,this.pageAll=Math.round((this.arr.length-1)/5),this.pageSize=5,this.pagedArr}}function o(e,t){let i="";e>1&&(i+="<li class='arrows arrow-left'>&#129144;</li>",i+='<li class="firstInt">1</li>'),e>4&&(i+='<li class="dots">...</li>'),e>3&&(i+=`<li class="two-left">${e-2}</li>`),e>2&&(i+=`<li>${e-1}</li>`),i+=`<li class='active'>${e}</li>`,t-1>e&&(i+=`<li >${e+1}</li>`),t-2>e&&(i+=`<li >${e+2}</li>`),t-3>e&&(i+='<li class="dots">...</li>'),t>e&&(i+=`<li class="lastInt">${t}</li>`,i+="<li class='arrows arrow-right'>&#129146</li>"),l.innerHTML=i}n=a("9eEKU"),n=a("9eEKU");const d=document.querySelector(".watched-btn-js"),g=(document.querySelector(".queue-btn-js"),document.querySelector(".library-header__buttons")),h=JSON.parse(localStorage.getItem(n.CURRENT_MOVIES)).results,p=new c(h),u=new c(h);function m(e,t,i){i.classList.add(e),t.classList.remove(e)}g.addEventListener("click",(function({target:e}){if(!e.classList.contains("library-header__btn"))return;e.classList.contains("queue-btn-js")&&(n.card.innerHTML="",u.paginationRender(),m("active",d,e));e.classList.contains("watched-btn-js")&&(n.card.innerHTML="",p.paginationRender(),m("active",d,e))})),l.addEventListener("click",(function(e){const t=Boolean(document.querySelector(".watched-btn-js.active")),i=e.target.textContent;if("LI"!==e.target.nodeName||"..."===i)return;"ðŸ¡¸"===i?t?p.pagLeft():u.pagLeft():"ðŸ¡º"===i?t?p.pagRight():u.pagRight():t?p.peakedPage(i):u.peakedPage(i)}));const f=document.querySelector("#main"),b=document.querySelector(".library-header");function L(e){return e&&e.length?(b.classList.remove("library-header-notification"),f.classList.remove("notification-bcg"),s(e)):(f.classList.add("notification-bcg"),b.classList.add("library-header-notification"),'<p class="notification-desc">\n            Nothing here yet, go back and select a movie.\n            </p>')}p.paginationRender();const v=document.querySelector(".watched-btn-js"),y=document.querySelector(".queue-btn-js");y.addEventListener("click",(function(){y.classList.add("active"),v.classList.remove("active")}));
//# sourceMappingURL=library.7f6ac12f.js.map
