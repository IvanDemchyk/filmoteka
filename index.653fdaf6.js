var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in o){var s=o[e];delete o[e];var l={id:e,exports:{}};return t[e]=l,s.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=s),s("2rpgd"),s("csVsy"),s("b4t8q"),s("9eEKU");var l=s("9eEKU");document.querySelector(".form-js"),document.querySelector(".form-input"),document.querySelector(".form__notification");var a=s("2hTmC");l.card.addEventListener("click",a.showMovieMain);l=s("9eEKU");var n=s("csVsy");l=s("9eEKU");function c(e){localStorage.setItem(l.CURRENT_MOVIES,JSON.stringify(e)),l.card.innerHTML=(0,n.createMovieCard)(JSON.parse(localStorage.getItem(l.CURRENT_MOVIES)).results)}var i=s("2shzp");async function r(e,t,o="en-US"){try{return(await i.default.get(`https://api.themoviedb.org/3/search/movie?api_key=0b11624b950ea9c4284f61844023b09c&query=${t}&page=${e}&language=${o}`)).data}catch(e){throw new Error(response.statusText)}}var d=s("b4t8q");l=s("9eEKU");const u=document.querySelector(".theme__control"),m=document.querySelector(".toolbar"),g=(document.querySelector(".js-pagination"),document.querySelector("footer"));let h,f=localStorage.getItem(l.THEME);!function(){if(null===f)return;"light-theme"===f?(g.classList.remove("dark-theme"),g.classList.add("light-theme"),document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),u.classList.remove("checked")):(g.classList.remove("light-theme"),g.classList.add("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),u.classList.add("checked"))}(),m.addEventListener("click",(function(e){e.target.classList.contains("theme__control")&&u.classList.toggle("checked");u.classList.contains("checked")?(g.classList.remove("light-theme"),g.classList.add("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),localStorage.setItem(l.THEME,"dark-theme")):(g.classList.remove("dark-theme"),g.classList.add("light-theme"),document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),localStorage.setItem(l.THEME,"light-theme"))}));const y=document.querySelector(".js-pagination");function L(e,t){let o="",s=e-2,l=e-1,a=e+1,n=e+2;if(h=JSON.parse(localStorage.getItem("current_movies")).page,e>1&&(o+="<li class='arrows'>ðŸ¡¸</li>",o+="<li class='firstInt'>1</li>"),e>4&&(o+="<li class='dots'>...</li>"),e>3&&(o+=`<li class='two-left'>${s}</li>`),e>2&&(o+=`<li>${l}</li>`),o+=`<li class='active'>${e}</li>`,t-1>e&&(o+=`<li >${a}</li>`),t-2>e&&(o+=`<li >${n}</li>`),t-3>e&&(o+="<li class='dots'>...</li>"),t>e&&(o+=`<li class='lastInt'>${t}</li>`,o+="<li class='arrows'>ðŸ¡º</li>"),y.innerHTML=o,u.classList.contains("checked")){[...y.children].forEach((e=>{e.classList.toggle("dark")}))}}let p=document.querySelector(".preloader");function v(){p.style.display="flex"}function w(){setTimeout((()=>{p.style.display="none"}),500)}l=s("9eEKU");const S=document.querySelector(".js-pagination"),E=document.querySelector(".form-js"),k=document.querySelector(".form-input"),b=document.querySelector(".form__notification");let _,q=1,T=localStorage.getItem(l.LANG);async function I(e=1){let t;return _?(v(),t=await r(e,_),q=t.page,window.onload=w(),t):(v(),t=await(0,d.fetchTrends)(e),window.onload=w(),q=t.page,t)}I().then((e=>{v(),c(e),q=e.page,window.onload=w(),L(e.page,e.total_pages)})),S.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent)I(q-=1).then((e=>{c(e),L(e.page,e.total_pages)}));else if("ðŸ¡º"===e.target.textContent)I(q+=1).then((e=>{c(e),L(e.page,e.total_pages)}));else{I(e.target.textContent).then((e=>{c(e),L(e.page,e.total_pages)}))}})),E.addEventListener("submit",(async function(e){e.preventDefault();let t=k.value.trim();if(t)try{const e=await r(1,t,T);if(0===e.results.length)return b.style.visibility="visible",void setTimeout((()=>{b.style.visibility="hidden"}),5e3);q=e.page,v(),c(e),window.onload=w(),_=t,L(e.page,e.total_pages)}catch(e){console.log("Error")}})),s("2hTmC");const U=document.querySelector(".btn-up");U.addEventListener("click",(function e(){let t=window.scrollY/20;window.scrollY>0&&(window.scrollBy(0,-t),setTimeout(e,0))})),window.addEventListener("scroll",(function(){let e=window.scrollY,t=document.documentElement.clientHeight;e<t?U.classList.add("show"):U.classList.remove("show")}));l=s("9eEKU");const N=document.querySelector(".lang__control"),x=document.querySelector(".lang");let M;let C=localStorage.getItem(l.LANG);!function(){if(null===C)return;"en-US"===C?(M="en",N.classList.remove("checked")):(M="uk",N.classList.add("checked"))}(),x.addEventListener("click",(function(e){e.target.classList.contains("lang__control")&&N.classList.toggle("checked");N.classList.contains("checked")?(M="en",localStorage.setItem(l.LANG,"uk-UA")):(M="uk",localStorage.setItem(l.LANG,"en-US"))}));
//# sourceMappingURL=index.653fdaf6.js.map
