{"mappings":"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","sources":["src/js/local.js","src/js/createMovieCard.js","src/js/genresConvertor.js","src/js/get-genres.js","src/js/modal-window/showModalWindowFunctions.js","src/js/trailer.js","src/js/modal-window/checkLibraryFunction.js","src/js/modal-window/getFilmFunctions.js","src/js/modal-window/watchedOrQueue.js","src/js/modal-window/refs.js","src/js/modal-window/createMovieInfo.js","src/js/modal-window/genresConvertor.js","src/js/modal-window/eventListeners.js","src/js/modal-window/closeModal.js","src/js/modal-window/addFilm.js","src/js/modal-window/addFilmToLibrary.js","src/js/modal-window/reRenderLibrary.js","src/js/modal-window/removeFilmFromLibrary.js","src/js/loader.js"],"sourcesContent":["export const CURRENT_MOVIES = 'current_movies';\nexport const WATCHE = 'watche';\nexport const QUEUE = 'queue';\nexport const watche = JSON.parse(localStorage.getItem(WATCHE)) || [];\nexport const queue = JSON.parse(localStorage.getItem(QUEUE)) || [];\nexport const card = document.querySelector('.card');\nexport const logo = document.querySelector('.page-header__logo-title');\nexport const home = document.querySelector('.home');\nexport const library = document.querySelector('.library');\nexport const THEME = 'theme';\nexport const LANG = 'language';\nexport const GLOBALREQUEST = 'globalrequest';\n","import { genresConvertor } from './genresConvertor';\nexport function createMovieCard(data) {\n  const markup = data\n    .map(\n      ({\n        poster_path,\n        original_title = '',\n        title = '',\n        genre_ids,\n        overview = '',\n        release_date = '',\n        id = Date.now(),\n      }) => {\n        let release;\n        if (release_date === '') {\n          release = 'no date';\n        } else {\n          release = release_date.substr(0, 4);\n        }\n        let path;\n        if (poster_path) {\n          path = 'https://image.tmdb.org/t/p/w500/' + poster_path;\n        } else {\n          path = 'https://picsum.photos/500/750';\n        }\n        const altPath = './images/no-file-opt.jpg';\n        //  <img src=\"./images/no-file-opt.jpg\" alt=\"A brilliant.\">\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src='${path}' loading=\"lazy\" alt=\"${overview}\" class=\"card__img\" />\n            <h2 class=\"card__title\">${title ?? original_title}</h2>\n            <p class=\"card__desc\">${genresConvertor(genre_ids).join(\n              ', '\n            )} | ${release}\n            </p>\n            </li>`;\n      }\n    )\n    .join('');\n  return markup;\n}\n","// ---- Genres converting function - замінює id жанрів в картці фільму на назви жанрів\nimport { GENRES_MOVIES } from './get-genres'\nexport function genresConvertor(genre_ids) {\n  const result = genre_ids.map(id => {\n    const objectNumbersInString = JSON.parse(localStorage.getItem(GENRES_MOVIES));\n    return objectNumbersInString[id];\n  });\n  if (result.length > 2) {\n    result.splice(2, result.length - 2);\n    result.push(\"Other\")\n  } else if (result.length === 0) {\n    result.push(\"no genres\")\n  }\n  return result\n}\n","export const GENRES_MOVIES = 'genresList';\nconst fetchedGenres = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US`\n  ).then(data => data.json());\n};\n\nfetchedGenres().then(onFetchSuccess);\n\nfunction onFetchSuccess(respond) {\n  const genresList = respond.genres.reduce((acc, { id, name }) => {\n    acc[id] = name;\n    return acc;\n  }, {});\n  localStorage.setItem(GENRES_MOVIES, JSON.stringify(genresList));\n}\n","import { GENRES_MOVIES } from '../get-genres';\nimport { trailerInst } from '../trailer';\nimport checkLibrary from './checkLibraryFunction';\nimport { getFilmLibrary, getFilmMain } from './getFilmFunctions';\nimport { CURRENT_MOVIES, watche, queue, WATCHE, QUEUE } from '../local.js';\nimport watchedOrQueue from './watchedOrQueue';\n// import { createMovieCard } from '../createMovieCard';\n\nimport { createMovieInfo } from './createMovieInfo';\nimport refs from './refs';\n\nexport async function showMovieMain(e) {\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n  const film = getFilmMain(e, '.card__item', CURRENT_MOVIES);\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n  const trailerLink = await trailerInst(film.id);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue, trailerLink);\n\n  refs.backdrop.hidden = false;\n}\n\nexport async function showMovieLibrary(e) {\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n  const film = getFilmLibrary(e, '.card__item', watchedOrQueue());\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n  const trailerLink = await trailerInst(film.id);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue, trailerLink);\n\n  refs.backdrop.hidden = false;\n}\n\nexport async function showSliderMovie(e) {\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n  e.preventDefault();\n\n  const film = getFilmMain(e, '.slider__item', CURRENT_MOVIES);\n\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n  const trailerLink = await trailerInst(film.id);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue, trailerLink);\n\n  refs.backdrop.hidden = false;\n}\n","import axios from 'axios';\nconst KEY_API = '0b11624b950ea9c4284f61844023b09c';\n\nasync function getfetchTrailer(film) {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${film}/videos?api_key=${KEY_API}&language=en`\n    );\n    return response.data;\n  } catch (err) {\n    throw new Error(response.statusText);\n  }\n}\n\nfunction filterNameTrailer({ results }) {\n  return results.filter(({ name }) => name.toLowerCase().includes('trailer'));\n}\n\nfunction trailerLink(trailerObj) {\n  return `<button class='modal__movie-btn modal-text modal-text--uppercase trailer-btn' \"><a href=\"https://www.youtube.com/embed/${trailerObj[0].key}\" target=\"_blank\">\n  Trailer in new window\n </a></button>`;\n}\n\nasync function trailerInst(film) {\n  const trailerInfo = await getfetchTrailer(film);\n\n  if (\n    trailerInfo.status_code === 34 ||\n    trailerInfo.status_code === 7 ||\n    trailerInfo.results.length === 0\n  ) {\n    return;\n  }\n\n  const trailerObj = await filterNameTrailer(trailerInfo);\n  if (trailerObj.length === 0) {\n    return;\n  }\n\n  trailerLink(trailerObj);\n\n  return trailerLink(trailerObj);\n}\n\nexport { trailerInst };\n","export default function checkLibrary(local, film) {\n  if (local.length === 0) {\n    return;\n  }\n\n  return local.find(movie => movie.id === film.id);\n}\n","export function getFilmMain(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n\n  return JSON.parse(localStorage.getItem(fromStoarage)).results.find(\n    movie => movie.id === movieId\n  );\n}\n\nexport function getFilmLibrary(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n  return JSON.parse(localStorage.getItem(fromStoarage)).find(\n    movie => movie.id === movieId\n  );\n}\n","import refs from './refs';\nimport { WATCHE, QUEUE } from '../local.js';\n\nexport default function watchedOrQueue() {\n  if (refs.watchedBtn.classList.contains('active')) {\n    return WATCHE;\n  } else {\n    return QUEUE;\n  }\n}\n","const refs = {\n  backdrop: document.querySelector('.backdrop'),\n  modalMovie: document.querySelector('.modal__movie'),\n  watchedBtn: document.querySelector('.watched-btn-js'),\n  libraryHeaderLink: document.querySelector('.js-library'),\n  libraryMainContainer: document.querySelector('#main'),\n  libraryHeader: document.querySelector('.library-header'),\n  librarySlider: document.querySelector('#slider'),\n};\n\nexport default refs;\n","import genresConvertor from './genresConvertor';\nimport eventListeners from './eventListeners';\nimport closeModal from './closeModal';\nimport addFilm from './addFilm';\nimport refs from './refs';\n\nexport function createMovieInfo(\n  movie,\n  genresList,\n  checkWatched,\n  checkQueue,\n  trailer = ''\n) {\n  const modalMovieMarkup = `<div class=\"movie__img-container\">\n  <img class='movie__img'\n    alt=\"movie poster\"\n    src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\"\n  />\n</div>\n      <div class=\"movie__info\">\n      <h2 class=\"movie__title\">${movie.title}</h2>\n      <table class=\"movie__details\">\n      <tbody>\n      <tr>\n      <td class='movie__detail modal-text--left-column modal-text'>Vote/Votes</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">\n      <span class=\"movie__detail--accent\">\n      ${movie.vote_average.toFixed(1)} </span\n      >/ ${movie.vote_count}\n      </td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Popularity</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">${movie.popularity.toFixed(\n        1\n      )}</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Original title</td>\n      <td class=\"movie__detail modal-text modal-text--uppercase movie__detail-right-column\">${\n        movie.original_title\n      }</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Genres</td>\n      <td class=\"movie__detail modal-text movie__detail-right-column\">${genresConvertor(\n        movie.genre_ids,\n        genresList\n      )}</td>\n      </tr>\n          </tbody>\n          </table>\n          \n          <h3 class=\"movie__about modal-text modal-text--uppercase\">About</h3>\n      <p class=\"movie__description modal-text\">${movie.overview}</p>\n      \n      <div class=\"movie__add-buttons\">\n      ${trailer}\n        <button class=\"modal__movie-btn modal-text modal-text--uppercase js-movie__add-btn--watched\">${\n          checkWatched ? 'remove from ' : 'add to '\n        }watched</button>\n        <button class=\"modal__movie-btn modal-text modal-text--uppercase js-movie__add-btn--queue\">${\n          checkQueue ? 'remove from ' : 'add to '\n        }queue</button>\n      </div>\n      </div>\n  `;\n  refs.modalMovie.id = movie.id;\n  refs.modalMovie.innerHTML = modalMovieMarkup;\n  eventListeners(closeModal, addFilm);\n}\n","export default function genresConvertor(movieGenres, genresList) {\n  return movieGenres\n    .map(genre => {\n      const allGenres = JSON.parse(localStorage.getItem(genresList));\n      return allGenres[genre];\n    })\n    .join(', ');\n}\n","import refs from './refs';\n\nexport default function eventListeners(closeModal, addFilm) {\n  const modalCloseBtn = document.querySelector('.modal-window__close-btn');\n  const modalBtns = {\n    addToWatched: document.querySelector('.js-movie__add-btn--watched'),\n    addToQueue: document.querySelector('.js-movie__add-btn--queue'),\n  };\n\n  modalBtns.addToWatched.addEventListener('click', addFilm.toWatched);\n  modalBtns.addToQueue.addEventListener('click', addFilm.toQueue);\n  modalCloseBtn.addEventListener('click', closeModal.onCloseBtn);\n  refs.backdrop.addEventListener('click', closeModal.onBackdropClick);\n  document.addEventListener('keydown', closeModal.onEsc);\n}\n","import refs from './refs';\n\nconst closeModal = {\n  onBackdropClick(e) {\n    if (e.target.parentElement.nodeName === 'BODY') {\n      refs.backdrop.hidden = true;\n      refs.backdrop.removeEventListener('click', this.onBackdropClick);\n    }\n  },\n\n  onEsc(e) {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    refs.backdrop.hidden = true;\n    document.removeEventListener('keydown', this.onEsc);\n  },\n\n  onCloseBtn() {\n    refs.backdrop.hidden = true;\n  },\n};\n\nexport default closeModal;\n","import addToWatchedOrQueue from './addFilmToLibrary';\nimport removeFromWatchedOrQueue from './removeFilmFromLibrary';\nimport { CURRENT_MOVIES, watche, queue, WATCHE, QUEUE } from '../local.js';\n\nconst addFilm = {\n  toWatched(e) {\n    if (e.currentTarget.textContent === 'add to watched') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        watche,\n        WATCHE,\n        'watched'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', watche, WATCHE, 'watched');\n    }\n  },\n\n  toQueue(e) {\n    if (e.currentTarget.textContent === 'add to queue') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        queue,\n        QUEUE,\n        'queue'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', queue, QUEUE, 'queue');\n    }\n  },\n};\n\nexport default addFilm;\n","import { card } from '../local';\nimport { getFilmMain } from './getFilmFunctions';\nimport refs from './refs';\nimport reRenderLibrary from './reRenderLibrary';\nimport watchedOrQueue from './watchedOrQueue';\n\nexport default function addToWatchedOrQueue(\n  e,\n  element,\n  fromStoarage,\n  local,\n  key,\n  btn\n) {\n  const film = getFilmMain(e, element, fromStoarage);\n  local.push(film);\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `remove from ${btn}`;\n  if (refs.libraryHeaderLink.classList.contains('current')) {\n    card.innerHTML = reRenderLibrary(\n      JSON.parse(localStorage.getItem(watchedOrQueue()))\n    );\n  }\n}\n","import refs from './refs';\nimport { createMovieCard } from '../createMovieCard';\n\nexport default function reRenderLibrary(filmsFromStorage) {\n  if (!filmsFromStorage || !filmsFromStorage.length) {\n    refs.libraryMainContainer.classList.add('notification-bcg');\n    refs.libraryHeader.classList.add('library-header-notification');\n    refs.librarySlider.classList.add('slider-bcg');\n    return `<p class=\"notification-desc\">\n            Nothing here yet, go back and select a movie.\n            </p>`;\n  }\n\n  refs.libraryHeader.classList.remove('library-header-notification');\n  refs.libraryMainContainer.classList.remove('notification-bcg');\n  refs.librarySlider.classList.remove('slider-bcg');\n  return createMovieCard(filmsFromStorage);\n}\n","import { card } from '../local';\nimport refs from './refs';\nimport reRenderLibrary from './reRenderLibrary';\nimport watchedOrQueue from './watchedOrQueue';\n\nexport default function removeFromWatchedOrQueue(e, element, local, key, btn) {\n  const films = JSON.parse(localStorage.getItem(key));\n  const movieId = Number(e.target.closest(element).id);\n  films.forEach((film, i) => {\n    film.id === movieId ? local.splice(i, 1) : film;\n  });\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `add to ${btn}`;\n  if (refs.libraryHeaderLink.classList.contains('current')) {\n    card.innerHTML = reRenderLibrary(\n      JSON.parse(localStorage.getItem(watchedOrQueue()))\n    );\n  }\n}\n","export let preloader = document.querySelector('.preloader');\n\nexport function loaderOn() {\n  preloader.style.display = 'flex';\n}\nexport function loaderOff() {\n  setTimeout(() => {\n    preloader.style.display = 'none';\n  }, 500);\n}\n"],"names":["$0a9a4be3ce49d749$export$48346d11afd5eac2","$0a9a4be3ce49d749$export$7b6410247dc2be36","$0a9a4be3ce49d749$export$5828682c822c26e7","$0a9a4be3ce49d749$export$f4349c77a39598c6","JSON","parse","localStorage","getItem","$0a9a4be3ce49d749$export$4f7fa46ff53e516f","$0a9a4be3ce49d749$export$aa3e815946b80764","document","querySelector","$0a9a4be3ce49d749$export$db3c28d99448dcff","$0a9a4be3ce49d749$export$d12a05a2da93ee73","$0a9a4be3ce49d749$export$b839f963c7dc0e34","$0a9a4be3ce49d749$export$5714e40777c1bcc2","$0a9a4be3ce49d749$export$ce37e184d908d785","$0a9a4be3ce49d749$export$ea6c85e9577cdcc1","$7oPUb","parcelRequire","$d26123189b320653$export$9d27b867a89df126","data","map","param","release","path","poster_path","_original_title","original_title","_title","title","genre_ids","_overview","overview","_release_date","release_date","_id","id","Date","now","substr","concat","genresConvertor","join","$lwvvG","$5633099b30fcb21f$export$b5b6693b5298569f","result","GENRES_MOVIES","length","splice","push","$fab5075d8cb83450$export$4ab1186d8955f042","fetch","then","json","respond","genresList","genres","reduce","acc","name","setItem","stringify","$bpxeT","$d17123e7e70b202a$export$2178a47645a3acc9","e","$d17123e7e70b202a$var$_showMovieMain","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","film","checkWatched","checkQueue","trailerLink","target","nodeName","$ilN96","getFilmMain","$Ur9Nn","CURRENT_MOVIES","$jYmZk","default","watche","queue","$cDXQO","trailerInst","_ctx","sent","$lH91g","createMovieInfo","$TEMkz","backdrop","hidden","$d17123e7e70b202a$export$9f53221e00494c00","$d17123e7e70b202a$var$_showMovieLibrary","getFilmLibrary","$1pRDY","$d17123e7e70b202a$export$91120e07f05fc845","$d17123e7e70b202a$var$_showSliderMovie","preventDefault","$93478dab444045a1$var$KEY_API","$93478dab444045a1$var$getfetchTrailer","$93478dab444045a1$var$_getfetchTrailer","response1","$dIxxU","get","Error","response","statusText","$93478dab444045a1$var$filterNameTrailer","param1","results","filter","toLowerCase","includes","$93478dab444045a1$var$trailerLink","trailerObj","key","$93478dab444045a1$export$353bc1f51cbb2cd0","$93478dab444045a1$var$_trailerInst","trailerInfo","status_code","$e8a573e53fdf7a67$export$2e2bcd8739ae039","local","find","movie","$d5c04f7ee819ec0a$export$be5e9bf0de40956a","element","fromStoarage","movieId","Number","closest","$d5c04f7ee819ec0a$export$758865e3eef14087","$1081bcc46f3d89da$export$2e2bcd8739ae039","watchedBtn","classList","contains","WATCHE","QUEUE","$0a74c4ef678e88af$export$2e2bcd8739ae039","modalMovie","libraryHeaderLink","libraryMainContainer","libraryHeader","librarySlider","$kZjEW","$fcb49c2ab7d2115c$export$aa9e6c54dac09777","trailer","modalMovieMarkup","vote_average","toFixed","vote_count","popularity","innerHTML","$i10iy","$JnurI","$2qzGS","$f478c112fd55e993$export$2e2bcd8739ae039","movieGenres","genre","$d1d88d346b29e1db$export$2e2bcd8739ae039","closeModal","addFilm","modalCloseBtn","modalBtns","addToWatched","addToQueue","addEventListener","toWatched","toQueue","onCloseBtn","onBackdropClick","onEsc","$08866cb8a56b22c0$export$2e2bcd8739ae039","parentElement","removeEventListener","code","$kvTYB","$1c49b1dea9f56071$export$2e2bcd8739ae039","currentTarget","textContent","$77cYI","$eef21fa504536e5d$export$2e2bcd8739ae039","btn","card","$975gr","$6a28d9dfb1491ddc$export$2e2bcd8739ae039","filmsFromStorage","remove","$i3Qnx","createMovieCard","add","$52e34112c6548fad$export$2e2bcd8739ae039","films","forEach","i","$03da642c15b09e5e$export$8ddba6b40106a7ae","$03da642c15b09e5e$export$f53cf5ca8f68c5c3","style","display","$03da642c15b09e5e$export$3e13d68e5ea74e4f","setTimeout"],"version":3,"file":"library.5559ac03.js.map"}