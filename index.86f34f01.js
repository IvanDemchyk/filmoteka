var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var l={id:e,exports:{}};return t[e]=l,a.call(l.exports,l,l.exports),l.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},e.parcelRequired7c6=a),a("2rpgd"),a("csVsy"),a("b4t8q"),a("9eEKU");var l=a("9eEKU");document.querySelector(".form-js"),document.querySelector(".form-input"),document.querySelector(".form__notification");var n=a("2hTmC");l.card.addEventListener("click",n.showMovieMain);l=a("9eEKU");var r=a("csVsy");l=a("9eEKU");function s(e){localStorage.setItem(l.CURRENT_MOVIES,JSON.stringify(e)),l.card.innerHTML=(0,r.createMovieCard)(JSON.parse(localStorage.getItem(l.CURRENT_MOVIES)).results)}var c=a("2shzp");async function i(e,t,o){try{return(await c.default.get(`https://api.themoviedb.org/3/search/movie?api_key=0b11624b950ea9c4284f61844023b09c&query=${t}&page=${e}&language=${o}`)).data}catch(e){throw new Error(response.statusText)}}var d=a("b4t8q"),g=(l=a("9eEKU"),a("gjiCh"));g=a("gjiCh"),l=a("9eEKU");const m=document.querySelector(".lang__control"),u=document.querySelector(".lang");let h;console.log(m);!function(e="english"){if(null===e)return;"en-US"===e?(h="en",m.classList.remove("checked")):(h="uk",m.classList.add("checked"))}(localStorage.getItem(l.LANG)),u.addEventListener("click",(function(e){e.target.classList.contains("lang__control")&&m.classList.toggle("checked");m.classList.contains("checked")?(l.logo.textContent="Фільмотека",l.library.textContent="МОЯ БІБЛІОТЕКА",l.home.textContent="ГОЛОВНА",h="en",localStorage.setItem(l.LANG,"uk-UA")):(l.logo.textContent="Filmoteka",l.library.textContent="MY LIBRARY",l.home.textContent="HOME",h="uk",localStorage.setItem(l.LANG,"en-US"))}));const f=document.querySelector(".theme__control"),L=document.querySelector(".toolbar"),y=(document.querySelector(".js-pagination"),document.querySelector(".footer"));document.querySelector(".card");let p,v=localStorage.getItem(l.THEME);!function(){if(null===v)return;"light-theme"===v?(y.classList.remove("dark-theme"),y.classList.add("light-theme"),document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),f.classList.remove("checked")):(y.classList.remove("light-theme"),y.classList.add("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),f.classList.add("checked"))}(),L.addEventListener("click",(function(e){(0,g.loaderOn)(),location.reload(),e.target.classList.contains("theme__control")&&f.classList.toggle("checked");f.classList.contains("checked")?(y.classList.remove("light-theme"),y.classList.add("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),localStorage.setItem(l.THEME,"dark-theme")):(y.classList.remove("dark-theme"),y.classList.add("light-theme"),document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),localStorage.setItem(l.THEME,"light-theme"));window.onload=(0,g.loaderOff)()}));const S=document.querySelector(".js-pagination"),k=document.querySelector(".card");function E(e,t){let o="",a=e-2,l=e-1,n=e+1,r=e+2;if(p=JSON.parse(localStorage.getItem("current_movies")).page,e>1&&(o+="<li class='arrows'>🡸</li>",o+="<li class='firstInt'>1</li>"),e>4&&(o+="<li class='dots'>...</li>"),e>3&&(o+=`<li class='two-left'>${a}</li>`),e>2&&(o+=`<li>${l}</li>`),o+=`<li class='active'>${e}</li>`,t-1>e&&(o+=`<li >${n}</li>`),t-2>e&&(o+=`<li >${r}</li>`),t-3>e&&(o+="<li class='dots'>...</li>"),t>e&&(o+=`<li class='lastInt'>${t}</li>`,o+="<li class='arrows'>🡺</li>"),S.innerHTML=o,f.classList.contains("checked")){[...S.children].forEach((e=>{e.classList.toggle("dark")})),[...k.children].forEach((e=>{e.classList.toggle("dark-card")}))}else{[...k.children].forEach((e=>{e.classList.toggle("light-card")}))}}g=a("gjiCh"),g=a("gjiCh"),l=a("9eEKU");const b=document.querySelector(".lang__control"),w=document.querySelector(".js-pagination"),C=document.querySelector(".form-js"),_=document.querySelector(".form-input"),q=document.querySelector(".form__notification");let x,O,I=1;async function M(e=1){let t;return x?((0,g.loaderOn)(),t=await i(e,x,O),I=t.page,window.onload=(0,g.loaderOff)(),t):((0,g.loaderOn)(),t=await(0,d.fetchTrends)(e),window.onload=(0,g.loaderOff)(),I=t.page,t)}M().then((e=>{b.classList.contains("checked")?(l.logo.textContent="Фільмотека",l.library.textContent="МОЯ БІБЛІОТЕКА",l.home.textContent="ГОЛОВНА",searchLangGlobal="en"):(l.logo.textContent="Filmoteka",l.library.textContent="MY LIBRARY",l.home.textContent="HOME",searchLangGlobal="uk"),(0,g.loaderOn)(),s(e),I=e.page,window.onload=(0,g.loaderOff)(),E(e.page,e.total_pages)})),w.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("🡸"===e.target.textContent)M(I-=1).then((e=>{s(e),E(e.page,e.total_pages)}));else if("🡺"===e.target.textContent)M(I+=1).then((e=>{s(e),E(e.page,e.total_pages)}));else{M(e.target.textContent).then((e=>{s(e),E(e.page,e.total_pages)}))}})),C.addEventListener("submit",(async function(e){e.preventDefault();let t=_.value.trim();if(O=localStorage.getItem(l.LANG),t){O=O?localStorage.getItem(l.LANG):"en-US";try{const e=await i(1,t,O);if(0===e.results.length)return q.style.visibility="visible",void setTimeout((()=>{q.style.visibility="hidden"}),5e3);I=e.page,(0,g.loaderOn)(),s(e),window.onload=(0,g.loaderOff)(),x=t,E(e.page,e.total_pages)}catch(e){console.log("Error")}}})),a("2hTmC"),a("6gB84");
//# sourceMappingURL=index.86f34f01.js.map
