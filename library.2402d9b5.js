!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequired7c6=n),n("Ur9Nn");var r="genresList";function s(e){var t=e.map((function(e){return JSON.parse(localStorage.getItem(r))[e]}));return t.length>2&&(t.splice(2,t.length-2),t.push("other")),t}function c(e){return e.map((function(e){var t=e.poster_path,a=e.original_title,i=e.title,n=e.genre_ids,r=e.overview,c=e.release_date,o=e.id;return'<li class="card__item list" id="'.concat(o,'">\n            <img src="https://image.tmdb.org/t/p/w500/').concat(t,'" loading="lazy" alt="').concat(r,'" class="card__img" />\n            <h2 class="card__title">').concat(null!=i?i:a,'</h2>\n            <p class="card__desc">').concat(s(n).join(", ")," | ").concat(c.substr(0,4),"\n            </p>\n            </li>")})).join("")}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US").then((function(e){return e.json()})).then((function(e){var t=e.genres.reduce((function(e,t){var a=t.id,i=t.name;return e[a]=i,e}),{});localStorage.setItem(r,JSON.stringify(t))})),n("Ur9Nn");var o=n("8MBJY"),l=n("a2hTj"),u=n("Ur9Nn"),d=document.querySelector(".js-pagination-lib"),g=function(){"use strict";function t(a){e(o)(this,t),this.arr=a,this.pageNum=1,this.pageAll=Math.round((this.arr.length-1)/5),this.pageSize=5,this.pagedArr}return e(l)(t,[{key:"paginate",value:function(e,t,a){return e.slice((t-1)*a,t*a)}},{key:"paginationRender",value:function(){this.arr.length<5?u.card.innerHTML=S(this.arr):(this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll))}},{key:"pagLeft",value:function(){this.pageNum-=1,this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll)}},{key:"pagRight",value:function(){this.pageNum+=1,this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll)}},{key:"peakedPage",value:function(e){this.pageNum=Number(e),this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll)}}]),t}();function h(e,t){var a="",i=e-1,n=e+1,r=e+2;e>1&&(a+="<li class='arrows arrow-left'>&#129144;</li>",a+='<li class="firstInt">1</li>'),e>4&&(a+='<li class="dots">...</li>'),e>3&&(a+='<li class="two-left">'.concat(e-2,"</li>")),e>2&&(a+="<li>".concat(i,"</li>")),a+="<li class='active'>".concat(e,"</li>"),t-1>e&&(a+="<li >".concat(n,"</li>")),t-2>e&&(a+="<li >".concat(r,"</li>")),t-3>e&&(a+='<li class="dots">...</li>'),t>e&&(a+='<li class="lastInt">'.concat(t,"</li>"),a+="<li class='arrows arrow-right'>&#129146</li>"),d.innerHTML=a}u=n("Ur9Nn"),u=n("Ur9Nn");var p=document.querySelector(".watched-btn-js"),f=(document.querySelector(".queue-btn-js"),document.querySelector(".library-header__buttons")),m=JSON.parse(localStorage.getItem(u.CURRENT_MOVIES)).results,v=new g(m),b=new g(m);function y(e,t,a){a.classList.add(e),t.classList.remove(e)}f.addEventListener("click",(function(e){var t=e.target;if(!t.classList.contains("library-header__btn"))return;t.classList.contains("queue-btn-js")&&(u.card.innerHTML="",b.paginationRender(),y("active",p,t));t.classList.contains("watched-btn-js")&&(u.card.innerHTML="",v.paginationRender(),y("active",p,t))})),d.addEventListener("click",(function(e){var t=Boolean(document.querySelector(".watched-btn-js.active")),a=e.target.textContent;if("LI"!==e.target.nodeName||"..."===a)return;"ðŸ¡¸"===a?t?v.pagLeft():b.pagLeft():"ðŸ¡º"===a?t?v.pagRight():b.pagRight():t?v.peakedPage(a):b.peakedPage(a)}));u=n("Ur9Nn"),document.querySelector(".backdrop"),document.querySelector(".modal-window"),document.querySelector(".watched-btn-js"),document.querySelector(".queue-btn-js");var L=document.querySelector("#main"),N=document.querySelector(".library-header");function S(e){return e&&e.length?(N.classList.remove("library-header-notification"),L.classList.remove("notification-bcg"),c(e)):(L.classList.add("notification-bcg"),N.classList.add("library-header-notification"),'<p class="notification-desc">\n            Nothing here yet, go back and select a movie.\n            </p>')}v.paginationRender();var w=document.querySelector(".watched-btn-js"),_=document.querySelector(".queue-btn-js");_.addEventListener("click",(function(){_.classList.add("active"),w.classList.remove("active")}))}();
//# sourceMappingURL=library.2402d9b5.js.map
