{"mappings":"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","sources":["src/index.js","src/js/get-films.js","src/js/searchRequest.js","src/js/render.js","src/js/fetchMovie.js","src/js/theme-change.js","src/js/paginFunction.js","src/js/loader.js","src/js/pagination.js","src/js/btn-up.js","src/js/lang-switch.js"],"sourcesContent":["import './js/get-genres';\nimport './js/get-films.js';\n// import './js/searchRequest';\nimport './js/pagination';\nimport './js/modal-window';\nimport './js/theme-change';\nimport './js/btn-up';\nimport './js/lang-switch'\n","// console.log('get-films');\nimport { createMovieCard } from './createMovieCard.js';\nimport { getfetchTrends } from './fetchTrends.js';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local.js';\nimport { card } from './local';\nimport { globalRequest } from './searchRequest';\nimport { showMovieMain } from './modal-window.js';\n//Додаю сюди для перевірки функціоналу, поки без підключення\n//Модальне вікно\ncard.addEventListener('click', showMovieMain);\n","// import { fetchMovies } from './fetchMovie';\n// import { render } from './render';\n// import { pagination } from './paginFunction';\n// import { loaderOn } from './loader';\n// import { loaderOff } from './loader';\n// import {searchLangGlobal} from './lang-switch';\nconst form = document.querySelector('.form-js');\nconst inputEl = document.querySelector('.form-input');\nconst notif = document.querySelector('.form__notification');\nexport let globalRequest;\nexport let currPageGlobe;\nlet page = 1;\n// async function inputRequest(e) {\n//   e.preventDefault();\n//    let request = inputEl.value.trim();\n//   if (!request) {\n//     return;\n//   }\n//   try {\n//     const data = await fetchMovies(page, request, searchLangGlobal);\n//     // console.log('hello try');\n//     if (data.results.length === 0) {\n//       notif.style.visibility = 'visible';\n//       setTimeout(() => {\n//         notif.style.visibility = 'hidden';\n//       }, 5000);\n//       return;\n//     }\n//     currPageGlobe = data.page;\n//     loaderOn();\n//     render(data);\n//     window.onload = loaderOff();\n//     globalRequest = request;\n//     pagination(data.page, data.total_pages);\n//   } catch (err) {\n//     console.log('Error');\n//     errorMsg;\n//   }\n// }\n// const errorMsg = err => Notify.failure(`${err}`);\n// form.addEventListener('submit', inputRequest);\n","import { card } from './local';\nimport { createMovieCard } from './createMovieCard';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local';\n\nexport function render(data) {\n  localStorage.setItem(CURRENT_MOVIES, JSON.stringify(data));\n  card.innerHTML = createMovieCard(\n    JSON.parse(localStorage.getItem(CURRENT_MOVIES)).results\n  );\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie';\nconst KEY_API = '0b11624b950ea9c4284f61844023b09c';\n// let page = 1;\n\nexport async function fetchMovies(page, request, lang) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}?api_key=${KEY_API}&query=${request}&page=${page}$language=${lang}`\n    );\n    return response.data;\n  } catch (err) {\n    throw new Error(response.statusText);\n  }\n}\n","import { THEME } from './local.js';\n\nexport const controlElem = document.querySelector('.theme__control');\nconst toolbarElem = document.querySelector('.toolbar');\nconst pagItemElem = document.querySelector('.js-pagination');\n\nconst light = 'light-theme';\nconst dark = 'dark-theme';\n\nlet currentTheme = localStorage.getItem(THEME);\nstorageTheme();\n\ntoolbarElem.addEventListener('click', onThemeChange)\n\nfunction onThemeChange(evt) {\n\n  if(evt.target.classList.contains('theme__control')) {\n    controlElem.classList.toggle('checked')\n  }\n\n  if(controlElem.classList.contains('checked')) {\n    document.body.classList.remove('light-theme');\n    document.body.classList.add('dark-theme');\n    localStorage.setItem(THEME, dark);\n  } else {\n    document.body.classList.remove('dark-theme');\n    document.body.classList.add('light-theme');\n    localStorage.setItem(THEME, light);\n  }\n}\n\nfunction storageTheme() {\n  if (currentTheme === null) {\n    return;\n  }\n\n  if (currentTheme === light) {\n    document.body.classList.remove('dark-theme');\n    document.body.classList.add('light-theme');\n    controlElem.classList.remove('checked');\n  } else {\n    document.body.classList.remove('light-theme');\n    document.body.classList.add('dark-theme');\n    controlElem.classList.add('checked');\n  }\n}\n","\nimport {controlElem} from './theme-change';\nexport let currPageGlobe;\nconst paginationBoxElem = document.querySelector('.js-pagination');\n\nexport function pagination(currPage, allPages) {\n  let markupControls = '';\n  let beforeTwoPages = currPage - 2;\n  let beforeOnePage = currPage - 1;\n  let afterOnePage = currPage + 1;\n  let afterTwoPage = currPage + 2;\n  currPageGlobe = JSON.parse(localStorage.getItem('current_movies')).page;\n\n  if (currPage > 1) {\n    markupControls += `<li class='arrows'>🡸</li>`;\n    markupControls += `<li class='firstInt'>1</li>`;\n  }\n\n  if (currPage > 4) {\n    markupControls += `<li class='dots'>...</li>`;\n  }\n\n  if (currPage > 3) {\n    markupControls += `<li class='two-left'>${beforeTwoPages}</li>`;\n  }\n\n  if (currPage > 2) {\n    markupControls += `<li>${beforeOnePage}</li>`;\n  }\n\n  markupControls += `<li class='active'>${currPage}</li>`;\n\n  if (allPages - 1 > currPage) {\n    markupControls += `<li >${afterOnePage}</li>`;\n  }\n\n  if (allPages - 2 > currPage) {\n    markupControls += `<li >${afterTwoPage}</li>`;\n  }\n\n  if (allPages - 3 > currPage) {\n    markupControls += `<li class='dots'>...</li>`;\n  }\n\n  if (allPages > currPage) {\n    markupControls += `<li class='lastInt'>${allPages}</li>`;\n    markupControls += `<li class='arrows'>🡺</li>`;\n  }\n\n  paginationBoxElem.innerHTML = markupControls;\n\n  if(controlElem.classList.contains('checked')) {\n    const liElem = [...paginationBoxElem.children].forEach(li => {\n    li.classList.toggle('dark')\n  })\n}\n}","export let preloader = document.querySelector('.preloader');\n\nexport function loaderOn() {\n  preloader.style.display = 'flex';\n}\nexport function loaderOff() {\n  setTimeout(() => {\n    preloader.style.display = 'none';\n  }, 500);\n}\n","import { render } from './render.js';\nimport { fetchMovies } from './fetchMovie';\nimport { fetchTrends } from './fetchTrends.js';\nimport { pagination } from './paginFunction.js';\nimport { loaderOn } from './loader';\nimport { loaderOff } from './loader';\n\nexport const paginationBoxElem = document.querySelector('.js-pagination');\nconst form = document.querySelector('.form-js');\nconst inputEl = document.querySelector('.form-input');\nconst notif = document.querySelector('.form__notification');\nlet globalRequest;\nlet currPageGlobe = 1;\nlet page = 1;\n//const errorMsg = err => Notify.failure(`${err}`);\nform.addEventListener('submit', inputRequest);\n\nasync function inputRequest(e) {\n  e.preventDefault();\n  let request = inputEl.value.trim();\n  if (!request) {\n    return;\n  }\n  try {\n    const data = await fetchMovies(page, request);\n    if (data.results.length === 0) {\n      notif.style.visibility = 'visible';\n      setTimeout(() => {\n        notif.style.visibility = 'hidden';\n      }, 5000);\n      return;\n    }\n    currPageGlobe = data.page;\n    loaderOn();\n    render(data);\n    window.onload = loaderOff();\n    globalRequest = request;\n    pagination(data.page, data.total_pages);\n  } catch (err) {\n    console.log('Error');\n    errorMsg;\n  }\n}\n// const errorMsg = err => Notify.failure(`${err}`);\n// form.addEventListener('submit', inputRequest);\n\nasync function getMovies(page = 1) {\n  let resp;\n  if (globalRequest) {\n    loaderOn();\n    resp = await fetchMovies(page, globalRequest);\n    currPageGlobe = resp.page;\n    window.onload = loaderOff();\n    return resp;\n  } else {\n    loaderOn();\n    resp = await fetchTrends(page);\n    window.onload = loaderOff();\n    currPageGlobe = resp.page;\n    return resp;\n  }\n}\n\ngetMovies().then(data => {\n  loaderOn();\n  render(data);\n  currPageGlobe = data.page;\n  window.onload = loaderOff();\n  pagination(data.page, data.total_pages);\n});\n\npaginationBoxElem.addEventListener('click', paginationHandler);\n\nfunction paginationHandler(evt) {\n  if (evt.target.nodeName !== 'LI') {\n    return;\n  }\n\n  if (evt.target.textContent === '...') {\n    return;\n  }\n\n  if (evt.target.textContent === '🡸') {\n    // currPageGlobe = JSON.parse(localStorage.getItem('current_movies')).page;\n    console.log('Arrov<-', currPageGlobe);\n    getMovies((currPageGlobe -= 1)).then(data => {\n      render(data);\n      pagination(data.page, data.total_pages);\n    });\n  } else if (evt.target.textContent === '🡺') {\n    // currPageGlobe = JSON.parse(localStorage.getItem(\"current_movies\")).page;\n    console.log('Arrov>-', currPageGlobe);\n    getMovies((currPageGlobe += 1)).then(data => {\n      render(data);\n      pagination(data.page, data.total_pages);\n    });\n  } else {\n    const actualPage = evt.target.textContent;\n    // currPageGlobe = actualPage;\n    console.log('in current - ', currPageGlobe);\n    getMovies(actualPage).then(data => {\n      render(data);\n      pagination(data.page, data.total_pages);\n    });\n  }\n}\n","const btnUpElem = document.querySelector('.btn-up');\n\nbtnUpElem.addEventListener('click', scrollToTop);\nwindow.addEventListener('scroll', listenScroll);\n\nfunction listenScroll() {\n  let scrolled = window.scrollY;\n  let userHeight = document.documentElement.clientHeight;\n\n  scrolled < userHeight ? btnUpElem.classList.add('show') : btnUpElem.classList.remove('show');\n}\n\nfunction scrollToTop() {\n  let scrollStep = window.scrollY / 20;\n\n  if (window.scrollY > 0) {\n    window.scrollBy(0, -scrollStep);\n    setTimeout(scrollToTop, 0);\n  }\n}","import { LANG } from './local.js';\n\nexport const langControlElem = document.querySelector('.lang__control');\nconst langSwithElem = document.querySelector('.lang');\n\nexport let searchLangGlobal;\n\nconst ukranian = 'ukranian';\nconst english = 'english';\n\nlet currentLang = localStorage.getItem(LANG);\nstorageLang();\n\nlangSwithElem.addEventListener('click', onLangChange)\n\nfunction onLangChange(evt) {\n\n  if(evt.target.classList.contains('lang__control')) {\n    langControlElem.classList.toggle('checked')\n  }\n\n  if(langControlElem.classList.contains('checked')) {\n    searchLangGlobal = 'en';\n    localStorage.setItem(LANG, ukranian);\n  } else {\n    searchLangGlobal = 'uk';\n    localStorage.setItem(LANG, english);\n  }\n}\n\nfunction storageLang() {\n  if (currentLang === null) {\n    return;\n  }\n\n  if (currentLang === english) {\n    searchLangGlobal = 'en';\n    langControlElem.classList.remove('checked');\n  } else {\n    searchLangGlobal = 'uk';\n    langControlElem.classList.add('checked');\n  }\n}"],"names":["parcelRequire","document","querySelector","$9eEKU","card","addEventListener","$2hTmC","showMovieMain","$0e271c871dabf025$export$b3890eb0ae9dca99","data","localStorage","setItem","CURRENT_MOVIES","JSON","stringify","innerHTML","$csVsy","createMovieCard","parse","getItem","results","$2shzp","async","$a0cac08c197f45b6$export$88181abcadffafee","page","request","lang","default","get","err","Error","response","statusText","$0f17fd79af2696a9$export$96ed288e84644878","$0f17fd79af2696a9$var$toolbarElem","$5cab46f492ec25c8$export$2e52c1f6581a070b","$0f17fd79af2696a9$var$currentTheme","THEME","body","classList","remove","add","$0f17fd79af2696a9$var$storageTheme","evt","target","contains","toggle","$5cab46f492ec25c8$var$paginationBoxElem","$5cab46f492ec25c8$export$22fa394f3ba39578","currPage","allPages","markupControls","beforeTwoPages","beforeOnePage","afterOnePage","afterTwoPage","children","forEach","li","$bdfcdc80b4c38739$export$8ddba6b40106a7ae","$bdfcdc80b4c38739$export$f53cf5ca8f68c5c3","style","display","$bdfcdc80b4c38739$export$3e13d68e5ea74e4f","setTimeout","$1bab9c519cfa82bc$export$ef8a24d1bb623489","$1bab9c519cfa82bc$var$form","$1bab9c519cfa82bc$var$inputEl","$1bab9c519cfa82bc$var$notif","$1bab9c519cfa82bc$var$globalRequest","$1bab9c519cfa82bc$var$currPageGlobe","$1bab9c519cfa82bc$var$getMovies","page1","resp","window","onload","$b4t8q","fetchTrends","e","preventDefault","value","trim","length","visibility","total_pages","console","log","errorMsg","then","nodeName","textContent","actualPage","$490109ca6304f8f0$var$btnUpElem","$490109ca6304f8f0$var$scrollToTop","scrollStep","scrollY","scrollBy","scrolled","userHeight","documentElement","clientHeight","$31e5f12aa7a9c812$export$528062a7480ee2ee","$31e5f12aa7a9c812$var$langSwithElem","$31e5f12aa7a9c812$export$f85d15f471aea6cf","$31e5f12aa7a9c812$var$currentLang","LANG","$31e5f12aa7a9c812$var$storageLang"],"version":3,"file":"index.04050b8d.js.map"}