{"mappings":"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","sources":["src/js/get-genres.js","src/js/genresConvertor.js","src/js/createMovieCard.js","src/js/local.js","src/js/modal-window.js","src/js/searchRequest.js","src/js/get-films.js","src/js/pagination.js","src/js/render.js","src/js/fetchMovie.js","src/js/paginFunction.js","src/js/theme-change.js","src/js/loader.js","src/js/btn-up.js","src/js/lang-switch.js"],"sourcesContent":["export const GENRES_MOVIES = 'genresList';\nconst fetchedGenres = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US`\n  ).then(data => data.json());\n};\n\nfetchedGenres().then(onFetchSuccess);\n\nfunction onFetchSuccess(respond) {\n  const genresList = respond.genres.reduce((acc, { id, name }) => {\n    acc[id] = name;\n    return acc;\n  }, {});\n  localStorage.setItem(GENRES_MOVIES, JSON.stringify(genresList));\n}\n","// ---- Genres converting function - замінює id жанрів в картці фільму на назви жанрів\nimport { GENRES_MOVIES } from './get-genres'\nexport function genresConvertor(genre_ids) {\n  const result = genre_ids.map(id => {\n    const objectNumbersInString = JSON.parse(localStorage.getItem(GENRES_MOVIES));\n    return objectNumbersInString[id];\n  });\n  if (result.length > 2) {\n    result.splice(2, result.length - 2);\n    result.push(\"Other\")\n  } else if (result.length === 0) {\n    result.push(\"no genres\")\n  }\n  return result\n}\n","import { genresConvertor } from './genresConvertor';\nexport function createMovieCard(data) {\n  const markup = data\n    .map(\n      ({\n        poster_path,\n        original_title = '',\n        title = '',\n        genre_ids,\n        overview = '',\n        release_date = '',\n        id = Date.now(),\n      }) => {\n        let release;\n        if (release_date === \"\") {\n          release = 'no date';\n        } else {release = release_date.substr(0, 4);}\n        let path;\n        if (poster_path) {\n          path = 'https://image.tmdb.org/t/p/w500/' + poster_path;\n        } else {\n          path = 'https://picsum.photos/500/750';\n        }\n        const altPath = './images/no-file-opt.jpg';\n        //  <img src=\"./images/no-file-opt.jpg\" alt=\"A brilliant.\">\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src='${path}' loading=\"lazy\" alt=\"${overview}\" class=\"card__img\" />\n            <h2 class=\"card__title\">${title ?? original_title}</h2>\n            <p class=\"card__desc\">${genresConvertor(genre_ids).join(\n              ', '\n            )} | ${release}\n            </p>\n            </li>`;\n      }\n    )\n    .join('');\n  return markup;\n}\n","export const CURRENT_MOVIES = 'current_movies';\nexport const WATCHE = 'watche';\nexport const QUEUE = 'queue';\nexport const watche = JSON.parse(localStorage.getItem(WATCHE)) || [];\nexport const queue = JSON.parse(localStorage.getItem(QUEUE)) || [];\nexport const card = document.querySelector('.card');\nexport const THEME = 'theme';\nexport const LANG = 'language';\n","import { CURRENT_MOVIES, watche, queue, WATCHE, QUEUE } from './local.js';\nimport { GENRES_MOVIES } from './get-genres';\n\nconst backdrop = document.querySelector('.backdrop');\nconst modalWindow = document.querySelector('.modal-window');\nconst watchedBtn = document.querySelector('.watched-btn-js');\nconst queueBtn = document.querySelector('.queue-btn-js');\n// відкриття модального вікна з інфо про фільм\nfunction showMovieMain(e) {\n  const film = getFilmMain(e, '.card__item', CURRENT_MOVIES);\n\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue);\n  eventListeners(closeModal, addFilm);\n  backdrop.hidden = false;\n}\n\nfunction showMovieLibrary(e) {\n  const film = getFilmLibrary(e, '.card__item', watchedOrQueue());\n\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue);\n  eventListeners(closeModal, addFilm);\n\n  backdrop.hidden = false;\n}\n\nfunction getFilmMain(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n  return JSON.parse(localStorage.getItem(fromStoarage)).results.find(\n    movie => movie.id === movieId\n  );\n}\n\nfunction getFilmLibrary(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n  return JSON.parse(localStorage.getItem(fromStoarage)).find(\n    movie => movie.id === movieId\n  );\n}\n\n// розмітка з інфо про фільм у модальному вікні\nfunction createMovieInfo(movie, genresList, checkWatched, checkQueue) {\n  const modalMovieMarkup = `<button class=\"modal-window__close-btn\">close</button>\n\n    <div class=\"modal__movie\" id='${\n      movie.id\n    }'><img class='movie__img' alt=\"movie poster\" src=\"https://image.tmdb.org/t/p/w500/${\n    movie.poster_path\n  }\"/>\n      <div class=\"movie__info\">\n      <h2 class=\"movie__title\">${movie.title}</h2>\n      <table class=\"movie__details\">\n      <tbody>\n      <tr>\n      <td class='movie__detail modal-text--left-column modal-text'>Vote/Votes</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">\n      <span class=\"movie__detail--accent\">\n      ${movie.vote_average.toFixed(1)} </span\n      >/ ${movie.vote_count}\n      </td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Popularity</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">${movie.popularity.toFixed(\n        1\n      )}</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Original title</td>\n      <td class=\"movie__detail modal-text modal-text--uppercase\">${\n        movie.original_title\n      }</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Genres</td>\n      <td class=\"movie__detail modal-text\">${genresConvertor(\n        movie.genre_ids,\n        genresList\n      )}</td>\n      </tr>\n          </tbody>\n          </table>\n          \n          <h3 class=\"movie__about modal-text modal-text--uppercase\">About</h3>\n      <p class=\"movie__description modal-text\">${movie.overview}</p>\n      <div class=\"movie__add-buttons\">\n        <button class=\"movie__add-btn modal-text modal-text--uppercase js-movie__add-btn--watched\">${\n          checkWatched ? 'remove from ' : 'add to '\n        }watched</button>\n        <button class=\"movie__add-btn modal-text modal-text--uppercase js-movie__add-btn--queue\">${\n          checkQueue ? 'remove from ' : 'add to '\n        }queue</button>\n      </div><button data-movie-id='${movie.id}'>Trailer</button>\n      </div></div>\n  `;\n  modalWindow.innerHTML = modalMovieMarkup;\n}\n\n// функції для закриття модального вікна\nconst closeModal = {\n  onBackdropClick(e) {\n    if (e.target.parentElement.nodeName === 'BODY') {\n      backdrop.hidden = true;\n      backdrop.removeEventListener('click', this.onBackdropClick);\n    }\n  },\n\n  onEsc(e) {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    backdrop.hidden = true;\n    document.removeEventListener('keydown', this.onEsc);\n  },\n\n  onCloseBtn() {\n    backdrop.hidden = true;\n  },\n};\n\n// функції додавання фільмів у список переглянутих та у чергу\nconst addFilm = {\n  toWatched(e) {\n    if (e.currentTarget.textContent === 'add to watched') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        watche,\n        WATCHE,\n        'watched'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', watche, WATCHE, 'watched');\n    }\n  },\n\n  toQueue(e) {\n    if (e.currentTarget.textContent === 'add to queue') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        queue,\n        QUEUE,\n        'queue'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', queue, QUEUE, 'queue');\n    }\n  },\n};\n\nfunction addToWatchedOrQueue(e, element, fromStoarage, local, key, btn) {\n  const film = getFilmMain(e, element, fromStoarage);\n  local.push(film);\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `remove from ${btn}`;\n}\n\nfunction removeFromWatchedOrQueue(e, element, local, key, btn) {\n  const films = JSON.parse(localStorage.getItem(key));\n  const movieId = Number(e.target.closest(element).id);\n  films.forEach((film, i) => {\n    film.id === movieId ? local.splice(i, 1) : film;\n  });\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `add to ${btn}`;\n}\n\n// додає та видаляє слухачі подій\nfunction eventListeners(closeModal, addFilm) {\n  const modalCloseBtn = document.querySelector('.modal-window__close-btn');\n  const modalBtns = {\n    addToWatched: document.querySelector('.js-movie__add-btn--watched'),\n    addToQueue: document.querySelector('.js-movie__add-btn--queue'),\n  };\n\n  modalBtns.addToWatched.addEventListener('click', addFilm.toWatched);\n  modalBtns.addToQueue.addEventListener('click', addFilm.toQueue);\n  modalCloseBtn.addEventListener('click', closeModal.onCloseBtn);\n  backdrop.addEventListener('click', closeModal.onBackdropClick);\n  document.addEventListener('keydown', closeModal.onEsc);\n}\n\nfunction genresConvertor(movieGenres, genresList) {\n  return movieGenres\n    .map(genre => {\n      const allGenres = JSON.parse(localStorage.getItem(genresList));\n      return allGenres[genre];\n    })\n    .join(', ');\n}\n\nfunction checkLibrary(local, film) {\n  if (local.length === 0) {\n    return;\n  }\n\n  return local.find(movie => movie.id === film.id);\n}\n\nfunction watchedOrQueue() {\n  if (watchedBtn.classList.contains('active')) {\n    return WATCHE;\n  } else {\n    return QUEUE;\n  }\n}\nexport { showMovieMain, showMovieLibrary };\n","// import { fetchMovies } from './fetchMovie';\n// import { render } from './render';\n// import { pagination } from './paginFunction';\n// import { loaderOn } from './loader';\n// import { loaderOff } from './loader';\n// import {searchLangGlobal} from './lang-switch';\nconst form = document.querySelector('.form-js');\nconst inputEl = document.querySelector('.form-input');\nconst notif = document.querySelector('.form__notification');\nexport let globalRequest;\nexport let currPageGlobe;\nlet page = 1;\n// async function inputRequest(e) {\n//   e.preventDefault();\n//    let request = inputEl.value.trim();\n//   if (!request) {\n//     return;\n//   }\n//   try {\n//     const data = await fetchMovies(page, request, searchLangGlobal);\n//     // console.log('hello try');\n//     if (data.results.length === 0) {\n//       notif.style.visibility = 'visible';\n//       setTimeout(() => {\n//         notif.style.visibility = 'hidden';\n//       }, 5000);\n//       return;\n//     }\n//     currPageGlobe = data.page;\n//     loaderOn();\n//     render(data);\n//     window.onload = loaderOff();\n//     globalRequest = request;\n//     pagination(data.page, data.total_pages);\n//   } catch (err) {\n//     console.log('Error');\n//     errorMsg;\n//   }\n// }\n// const errorMsg = err => Notify.failure(`${err}`);\n// form.addEventListener('submit', inputRequest);\n","// console.log('get-films');\nimport { createMovieCard } from './createMovieCard.js';\nimport { getfetchTrends } from './fetchTrends.js';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local.js';\nimport { card } from './local';\nimport { globalRequest } from './searchRequest';\nimport { showMovieMain } from './modal-window.js';\n//Додаю сюди для перевірки функціоналу, поки без підключення\n//Модальне вікно\ncard.addEventListener('click', showMovieMain);\n","import { render } from './render.js';\nimport { fetchMovies } from './fetchMovie';\nimport { fetchTrends } from './fetchTrends.js';\nimport { pagination } from './paginFunction.js';\nimport { loaderOn } from './loader';\nimport { loaderOff } from './loader';\n\nexport const paginationBoxElem = document.querySelector('.js-pagination');\nconst form = document.querySelector('.form-js');\nconst inputEl = document.querySelector('.form-input');\nconst notif = document.querySelector('.form__notification');\nlet globalRequest;\nlet currPageGlobe = 1;\nlet page = 1;\n//const errorMsg = err => Notify.failure(`${err}`);\nform.addEventListener('submit', inputRequest);\n\nasync function inputRequest(e) {\n  e.preventDefault();\n  let request = inputEl.value.trim();\n  if (!request) {\n    return;\n  }\n  try {\n    const data = await fetchMovies(page, request);\n    if (data.results.length === 0) {\n      notif.style.visibility = 'visible';\n      setTimeout(() => {\n        notif.style.visibility = 'hidden';\n      }, 5000);\n      return;\n    }\n    currPageGlobe = data.page;\n    loaderOn();\n    render(data);\n    window.onload = loaderOff();\n    globalRequest = request;\n    pagination(data.page, data.total_pages);\n  } catch (err) {\n    console.log('Error');\n    errorMsg;\n  }\n}\n// const errorMsg = err => Notify.failure(`${err}`);\n// form.addEventListener('submit', inputRequest);\n\nasync function getMovies(page = 1) {\n  let resp;\n  if (globalRequest) {\n    loaderOn();\n    resp = await fetchMovies(page, globalRequest);\n    currPageGlobe = resp.page;\n    window.onload = loaderOff();\n    return resp;\n  } else {\n    loaderOn();\n    resp = await fetchTrends(page);\n    window.onload = loaderOff();\n    currPageGlobe = resp.page;\n    return resp;\n  }\n}\n\ngetMovies().then(data => {\n  loaderOn();\n  render(data);\n  currPageGlobe = data.page;\n  window.onload = loaderOff();\n  pagination(data.page, data.total_pages);\n});\n\npaginationBoxElem.addEventListener('click', paginationHandler);\n\nfunction paginationHandler(evt) {\n  if (evt.target.nodeName !== 'LI') {\n    return;\n  }\n\n  if (evt.target.textContent === '...') {\n    return;\n  }\n\n  if (evt.target.textContent === '🡸') {\n    // currPageGlobe = JSON.parse(localStorage.getItem('current_movies')).page;\n    console.log('Arrov<-', currPageGlobe);\n    getMovies((currPageGlobe -= 1)).then(data => {\n      render(data);\n      pagination(data.page, data.total_pages);\n    });\n  } else if (evt.target.textContent === '🡺') {\n    // currPageGlobe = JSON.parse(localStorage.getItem(\"current_movies\")).page;\n    console.log('Arrov>-', currPageGlobe);\n    getMovies((currPageGlobe += 1)).then(data => {\n      render(data);\n      pagination(data.page, data.total_pages);\n    });\n  } else {\n    const actualPage = evt.target.textContent;\n    // currPageGlobe = actualPage;\n    console.log('in current - ', currPageGlobe);\n    getMovies(actualPage).then(data => {\n      render(data);\n      pagination(data.page, data.total_pages);\n    });\n  }\n}\n","import { card } from './local';\nimport { createMovieCard } from './createMovieCard';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local';\n\nexport function render(data) {\n  localStorage.setItem(CURRENT_MOVIES, JSON.stringify(data));\n  card.innerHTML = createMovieCard(\n    JSON.parse(localStorage.getItem(CURRENT_MOVIES)).results\n  );\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie';\nconst KEY_API = '0b11624b950ea9c4284f61844023b09c';\n// let page = 1;\n\nexport async function fetchMovies(page, request, lang) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}?api_key=${KEY_API}&query=${request}&page=${page}$language=${lang}`\n    );\n    return response.data;\n  } catch (err) {\n    throw new Error(response.statusText);\n  }\n}\n","\nimport {controlElem} from './theme-change';\nexport let currPageGlobe;\nconst paginationBoxElem = document.querySelector('.js-pagination');\n\nexport function pagination(currPage, allPages) {\n  let markupControls = '';\n  let beforeTwoPages = currPage - 2;\n  let beforeOnePage = currPage - 1;\n  let afterOnePage = currPage + 1;\n  let afterTwoPage = currPage + 2;\n  currPageGlobe = JSON.parse(localStorage.getItem('current_movies')).page;\n\n  if (currPage > 1) {\n    markupControls += `<li class='arrows'>🡸</li>`;\n    markupControls += `<li class='firstInt'>1</li>`;\n  }\n\n  if (currPage > 4) {\n    markupControls += `<li class='dots'>...</li>`;\n  }\n\n  if (currPage > 3) {\n    markupControls += `<li class='two-left'>${beforeTwoPages}</li>`;\n  }\n\n  if (currPage > 2) {\n    markupControls += `<li>${beforeOnePage}</li>`;\n  }\n\n  markupControls += `<li class='active'>${currPage}</li>`;\n\n  if (allPages - 1 > currPage) {\n    markupControls += `<li >${afterOnePage}</li>`;\n  }\n\n  if (allPages - 2 > currPage) {\n    markupControls += `<li >${afterTwoPage}</li>`;\n  }\n\n  if (allPages - 3 > currPage) {\n    markupControls += `<li class='dots'>...</li>`;\n  }\n\n  if (allPages > currPage) {\n    markupControls += `<li class='lastInt'>${allPages}</li>`;\n    markupControls += `<li class='arrows'>🡺</li>`;\n  }\n\n  paginationBoxElem.innerHTML = markupControls;\n\n  if(controlElem.classList.contains('checked')) {\n    const liElem = [...paginationBoxElem.children].forEach(li => {\n    li.classList.toggle('dark')\n  })\n}\n}","import { THEME } from './local.js';\n\nexport const controlElem = document.querySelector('.theme__control');\nconst toolbarElem = document.querySelector('.toolbar');\nconst pagItemElem = document.querySelector('.js-pagination');\n\nconst light = 'light-theme';\nconst dark = 'dark-theme';\n\nlet currentTheme = localStorage.getItem(THEME);\nstorageTheme();\n\ntoolbarElem.addEventListener('click', onThemeChange)\n\nfunction onThemeChange(evt) {\n\n  if(evt.target.classList.contains('theme__control')) {\n    controlElem.classList.toggle('checked')\n  }\n\n  if(controlElem.classList.contains('checked')) {\n    document.body.classList.remove('light-theme');\n    document.body.classList.add('dark-theme');\n    localStorage.setItem(THEME, dark);\n  } else {\n    document.body.classList.remove('dark-theme');\n    document.body.classList.add('light-theme');\n    localStorage.setItem(THEME, light);\n  }\n}\n\nfunction storageTheme() {\n  if (currentTheme === null) {\n    return;\n  }\n\n  if (currentTheme === light) {\n    document.body.classList.remove('dark-theme');\n    document.body.classList.add('light-theme');\n    controlElem.classList.remove('checked');\n  } else {\n    document.body.classList.remove('light-theme');\n    document.body.classList.add('dark-theme');\n    controlElem.classList.add('checked');\n  }\n}\n","export let preloader = document.querySelector('.preloader');\n\nexport function loaderOn() {\n  preloader.style.display = 'flex';\n}\nexport function loaderOff() {\n  setTimeout(() => {\n    preloader.style.display = 'none';\n  }, 500);\n}\n","const btnUpElem = document.querySelector('.btn-up');\n\nbtnUpElem.addEventListener('click', scrollToTop);\nwindow.addEventListener('scroll', listenScroll);\n\nfunction listenScroll() {\n  let scrolled = window.scrollY;\n  let userHeight = document.documentElement.clientHeight;\n\n  scrolled < userHeight ? btnUpElem.classList.add('show') : btnUpElem.classList.remove('show');\n}\n\nfunction scrollToTop() {\n  let scrollStep = window.scrollY / 20;\n\n  if (window.scrollY > 0) {\n    window.scrollBy(0, -scrollStep);\n    setTimeout(scrollToTop, 0);\n  }\n}","import { LANG } from './local.js';\n\nexport const langControlElem = document.querySelector('.lang__control');\nconst langSwithElem = document.querySelector('.lang');\n\nexport let searchLangGlobal;\n\nconst ukranian = 'ukranian';\nconst english = 'english';\n\nlet currentLang = localStorage.getItem(LANG);\nstorageLang();\n\nlangSwithElem.addEventListener('click', onLangChange)\n\nfunction onLangChange(evt) {\n\n  if(evt.target.classList.contains('lang__control')) {\n    langControlElem.classList.toggle('checked')\n  }\n\n  if(langControlElem.classList.contains('checked')) {\n    searchLangGlobal = 'en';\n    localStorage.setItem(LANG, ukranian);\n  } else {\n    searchLangGlobal = 'uk';\n    localStorage.setItem(LANG, english);\n  }\n}\n\nfunction storageLang() {\n  if (currentLang === null) {\n    return;\n  }\n\n  if (currentLang === english) {\n    searchLangGlobal = 'en';\n    langControlElem.classList.remove('checked');\n  } else {\n    searchLangGlobal = 'uk';\n    langControlElem.classList.add('checked');\n  }\n}"],"names":["$fab5075d8cb83450$export$4ab1186d8955f042","$5633099b30fcb21f$export$b5b6693b5298569f","genre_ids","result","map","id","JSON","parse","localStorage","getItem","length","splice","push","$d26123189b320653$export$9d27b867a89df126","data","param","release","path","poster_path","_original_title","original_title","_title","title","_overview","overview","_release_date","release_date","_id","Date","now","substr","concat","join","fetch","then","json","respond","genresList","genres","reduce","acc","name","setItem","stringify","$0a9a4be3ce49d749$export$48346d11afd5eac2","$0a9a4be3ce49d749$export$7b6410247dc2be36","$0a9a4be3ce49d749$export$5828682c822c26e7","$0a9a4be3ce49d749$export$f4349c77a39598c6","$0a9a4be3ce49d749$export$4f7fa46ff53e516f","$0a9a4be3ce49d749$export$aa3e815946b80764","document","querySelector","$0a9a4be3ce49d749$export$5714e40777c1bcc2","$0a9a4be3ce49d749$export$ce37e184d908d785","$50be0534152dd275$var$backdrop","$50be0534152dd275$var$modalWindow","$50be0534152dd275$var$getFilmMain","e","element","fromStoarage","movieId","Number","target","closest","results","find","movie","$50be0534152dd275$var$createMovieInfo","checkWatched","checkQueue","modalMovieMarkup","vote_average","toFixed","vote_count","popularity","movieGenres","genre","$50be0534152dd275$var$genresConvertor","innerHTML","$50be0534152dd275$var$closeModal","onBackdropClick","parentElement","nodeName","hidden","removeEventListener","this","onEsc","code","onCloseBtn","$50be0534152dd275$var$addFilm","toWatched","currentTarget","textContent","$50be0534152dd275$var$addToWatchedOrQueue","$50be0534152dd275$var$removeFromWatchedOrQueue","toQueue","local","key","btn","film","films","forEach","i","$50be0534152dd275$var$eventListeners","closeModal1","addFilm1","modalCloseBtn","modalBtns","addToWatched","addToQueue","addEventListener","$50be0534152dd275$var$checkLibrary","$bpxeT","parcelRequire","$fc4e315082f29d74$export$b3890eb0ae9dca99","$30f8e97d7179aa3a$var$BASE_URL","$30f8e97d7179aa3a$var$KEY_API","$30f8e97d7179aa3a$export$88181abcadffafee","page","request","lang","$30f8e97d7179aa3a$var$_fetchMovies","apply","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response1","$dIxxU","default","get","_ctx","sent","Error","response","statusText","$8nrFW","$5da7143cd347c3b1$export$96ed288e84644878","$5da7143cd347c3b1$var$toolbarElem","$5da7143cd347c3b1$var$light","$5da7143cd347c3b1$var$currentTheme","body","classList","remove","add","$5da7143cd347c3b1$var$storageTheme","evt","contains","toggle","$3a4010a55c70869f$var$paginationBoxElem","$3a4010a55c70869f$export$22fa394f3ba39578","currPage","allPages","markupControls","beforeTwoPages","beforeOnePage","afterOnePage","afterTwoPage","children","li","$03da642c15b09e5e$export$8ddba6b40106a7ae","$03da642c15b09e5e$export$f53cf5ca8f68c5c3","style","display","$03da642c15b09e5e$export$3e13d68e5ea74e4f","setTimeout","$dfaf77c789ce7a24$var$globalRequest","$dfaf77c789ce7a24$export$ef8a24d1bb623489","$dfaf77c789ce7a24$var$form","$dfaf77c789ce7a24$var$inputEl","$dfaf77c789ce7a24$var$notif","$dfaf77c789ce7a24$var$currPageGlobe","$dfaf77c789ce7a24$var$_inputRequest","preventDefault","value","trim","visibility","window","onload","total_pages","console","log","errorMsg","$dfaf77c789ce7a24$var$getMovies","$dfaf77c789ce7a24$var$_getMovies","page1","resp","_args","$az1QL","fetchTrends","actualPage","$2febe35bd0d42f19$var$btnUpElem","$2febe35bd0d42f19$var$scrollToTop","scrollStep","scrollY","scrollBy","scrolled","userHeight","documentElement","clientHeight","$f4ddbaf70bd7aae8$export$528062a7480ee2ee","$f4ddbaf70bd7aae8$var$langSwithElem","$f4ddbaf70bd7aae8$var$english","$f4ddbaf70bd7aae8$var$currentLang","$f4ddbaf70bd7aae8$var$storageLang"],"version":3,"file":"index.025916cf.js.map"}