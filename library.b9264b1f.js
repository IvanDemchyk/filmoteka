const e=JSON.parse(localStorage.getItem("watche"))||[],t=JSON.parse(localStorage.getItem("queue"))||[],n=document.querySelector(".card");function s(e){const t=e.map((e=>JSON.parse(localStorage.getItem("genresList"))[e]));return t.length>2&&(t.splice(2,t.length-2),t.push("other")),t}function c(e){return e.map((({poster_path:e,original_title:t,title:n,genre_ids:c,overview:i,release_date:a,id:r})=>`<li class="card__item list" id="${r}">\n            <img src="https://image.tmdb.org/t/p/w500/${e}" loading="lazy" alt="${i}" class="card__img" />\n            <h2 class="card__title">${n??t}</h2>\n            <p class="card__desc">${s(c).join(", ")} | ${a.substr(0,4)}\n            </p>\n            </li>`)).join("")}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US").then((e=>e.json())).then((function(e){const t=e.genres.reduce(((e,{id:t,name:n})=>(e[t]=n,e)),{});localStorage.setItem("genresList",JSON.stringify(t))}));const i=document.querySelector("#main"),a=document.querySelector(".library-header");function r(e){return e&&e.length?(a.classList.remove("library-header-notification"),i.classList.remove("notification-bcg"),c(e)):(i.classList.add("notification-bcg"),a.classList.add("library-header-notification"),'<p class="notification-desc">\n            Nothing here yet, go back and select a movie.\n            </p>')}n.insertAdjacentHTML("beforeend",r(e));const o=document.querySelector(".watched-btn-js"),l=document.querySelector(".queue-btn-js");function d(e,t,n){n.classList.add(e),t.classList.remove(e)}document.querySelector(".library-header__buttons").addEventListener("click",(function({target:s}){if(!s.classList.contains("library-header__btn"))return;s.classList.contains("queue-btn-js")&&(n.innerHTML="",n.insertAdjacentHTML("beforeend",r(t)),d("active",o,s));s.classList.contains("watched-btn-js")&&(n.innerHTML="",n.insertAdjacentHTML("beforeend",r(e)),d("active",l,s))}));const u=document.querySelector(".watched-btn-js"),g=document.querySelector(".queue-btn-js");g.addEventListener("click",(function(){g.classList.add("active"),u.classList.remove("active")}));
//# sourceMappingURL=library.b9264b1f.js.map
