{"mappings":"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","sources":["src/js/local.js","src/js/genresConvertor.js","src/js/get-genres.js","src/js/createMovieCard.js","src/js/localPagination.js","src/js/watched.js","src/js/modal-window.js","src/js/libaryLocal.js","src/js/queue.js"],"sourcesContent":["export const CURRENT_MOVIES = 'current_movies';\nexport const WATCHE = 'watche';\nexport const QUEUE = 'queue';\nexport const watche = JSON.parse(localStorage.getItem(WATCHE)) || [];\nexport const queue = JSON.parse(localStorage.getItem(QUEUE)) || [];\nexport const card = document.querySelector('.card');\nexport const THEME = 'theme';\nexport const LANG = 'language';\n","// ---- Genres converting function - замінює id жанрів в картці фільму на назви жанрів\nimport { GENRES_MOVIES } from './get-genres'\nexport function genresConvertor(genre_ids) {\n  const result = genre_ids.map(id => {\n    const objectNumbersInString = JSON.parse(localStorage.getItem(GENRES_MOVIES));\n    return objectNumbersInString[id];\n  });\n  if (result.length > 2) {\n    result.splice(2, result.length - 2);\n    result.push(\"Other\")\n  } else if (result.length === 0) {\n    result.push(\"no genres\")\n  }\n  return result\n}\n","export const GENRES_MOVIES = 'genresList';\nconst fetchedGenres = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US`\n  ).then(data => data.json());\n};\n\nfetchedGenres().then(onFetchSuccess);\n\nfunction onFetchSuccess(respond) {\n  const genresList = respond.genres.reduce((acc, { id, name }) => {\n    acc[id] = name;\n    return acc;\n  }, {});\n  localStorage.setItem(GENRES_MOVIES, JSON.stringify(genresList));\n}\n","import { genresConvertor } from './genresConvertor';\nexport function createMovieCard(data) {\n  const markup = data\n    .map(\n      ({\n        poster_path,\n        original_title = '',\n        title = '',\n        genre_ids,\n        overview = '',\n        release_date = '',\n        id = Date.now(),\n      }) => {\n        let release;\n        if (release_date === \"\") {\n          release = 'no date';\n        } else {release = release_date.substr(0, 4);}\n        let path;\n        if (poster_path) {\n          path = 'https://image.tmdb.org/t/p/w500/' + poster_path;\n        } else {\n          path = 'https://picsum.photos/500/750';\n        }\n        const altPath = './images/no-file-opt.jpg';\n        //  <img src=\"./images/no-file-opt.jpg\" alt=\"A brilliant.\">\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src='${path}' loading=\"lazy\" alt=\"${overview}\" class=\"card__img\" />\n            <h2 class=\"card__title\">${title ?? original_title}</h2>\n            <p class=\"card__desc\">${genresConvertor(genre_ids).join(\n              ', '\n            )} | ${release}\n            </p>\n            </li>`;\n      }\n    )\n    .join('');\n  return markup;\n}\n","import { card } from './local';\nimport { checkDataRenderPage } from './libaryLocal';\n\nexport const paginationLibBox = document.querySelector('.js-pagination-lib');\n\nexport class LocalPagination {\n    constructor(category) {\n      this.arr = category;\n      this.pageNum = 1;\n      this.pageAll = Math.round((this.arr.length - 1 ) / 5);\n      this.pageSize = 5;\n      this.pagedArr;\n    }\n    paginate(arr, pageNumber, pageSize) {\n      return arr.slice((pageNumber - 1) * pageSize, pageNumber * pageSize);\n    }\n  \n    paginationRender() {\n      if (this.arr.length < 5) {\n        card.innerHTML = checkDataRenderPage(this.arr);\n      } else {\n        this.pagedArr = this.paginate(this.arr, this.pageNum, this.pageSize);\n        card.innerHTML = checkDataRenderPage(this.pagedArr);\n        paginationLib(this.pageNum, this.pageAll);\n      }\n    }\n  \n    pagLeft() {\n      this.pageNum -= 1;\n      this.pagedArr = this.paginate(this.arr, this.pageNum, this.pageSize);\n      card.innerHTML = checkDataRenderPage(this.pagedArr);\n      paginationLib(this.pageNum, this.pageAll);\n    }\n  \n    pagRight() {\n      this.pageNum += 1;\n      this.pagedArr = this.paginate(this.arr, this.pageNum, this.pageSize);\n      card.innerHTML = checkDataRenderPage(this.pagedArr);\n      paginationLib(this.pageNum, this.pageAll);\n    }\n  \n    peakedPage(actPage) {\n      this.pageNum = Number(actPage);\n      this.pagedArr = this.paginate(this.arr, this.pageNum, this.pageSize);\n      card.innerHTML = checkDataRenderPage(this.pagedArr);\n      paginationLib(this.pageNum, this.pageAll);\n    }\n  }\n\nfunction paginationLib(currPage, allPages) {\n    let markupControls = '';\n    let beforeTwoPages = currPage - 2;\n    let beforeOnePage = currPage - 1;\n    let afterOnePage = currPage + 1;\n    let afterTwoPage = currPage + 2;\n\n      \n    if (currPage > 1) {\n      markupControls += `<li class='arrows arrow-left'>&#129144;</li>`;\n      markupControls += `<li class=\"firstInt\">1</li>`;\n    }\n\n    if (currPage > 4) {\n      markupControls += `<li class=\"dots\">...</li>`;\n    }\n\n    if (currPage > 3) {\n      markupControls += `<li class=\"two-left\">${beforeTwoPages}</li>`;\n    }\n\n    if (currPage > 2) {\n      markupControls += `<li>${beforeOnePage}</li>`;\n    }\n\n    markupControls += `<li class='active'>${currPage}</li>`;\n\n    if (allPages - 1 > currPage) {\n      markupControls += `<li >${afterOnePage}</li>`;\n    }\n\n    if (allPages - 2 > currPage) {\n      markupControls += `<li >${afterTwoPage}</li>`;\n    }\n\n    if (allPages - 3 > currPage) {\n      markupControls += `<li class=\"dots\">...</li>`;\n    }\n\n    if (allPages > currPage) {\n      markupControls += `<li class=\"lastInt\">${allPages}</li>`;\n      markupControls += `<li class='arrows arrow-right'>&#129146</li>`;\n    }\n\n    paginationLibBox.innerHTML = markupControls;\n  }\n  \n","// const watchedBtn = document.querySelector('.watched-btn-js');\n// const queueBtn = document.querySelector('.queue-btn-js');\n// watchedBtn.addEventListener('click', onClickWatchedBtn);\n// function onClickWatchedBtn() {\n//   onActiveWatchedBtn();\n// }\n// function onActiveWatchedBtn() {\n//   watchedBtn.classList.add('active');\n//   queueBtn.classList.remove('active');\n// }\nimport { LocalPagination, paginationLibBox } from './localPagination.js'\nimport { watche, queue } from './local.js';\nimport { card } from './local';\n\nconst btnWatch = document.querySelector('.watched-btn-js');\nconst btnQueue = document.querySelector('.queue-btn-js');\nconst containerBtn = document.querySelector('.library-header__buttons');\n\nexport const watchedLocal = new LocalPagination(watche);\nconst queueLocal = new LocalPagination(queue);\n\ncontainerBtn.addEventListener('click', onClickBtn);\npaginationLibBox.addEventListener(\"click\", localPagWatchedLib);\n\nfunction onClickBtn({ target }) {\n  if (!target.classList.contains('library-header__btn')) {\n    return;\n  }\n  if (target.classList.contains('queue-btn-js')) {\n    card.innerHTML = '';\n    queueLocal.paginationRender();\n    toggleClassBtn('active', btnWatch, target);\n  }\n  if (target.classList.contains('watched-btn-js')) {\n    card.innerHTML = '';\n    watchedLocal.paginationRender();\n    toggleClassBtn('active', btnQueue, target);\n  }\n}\n\nfunction toggleClassBtn(classStr, btn, current) {\n  current.classList.add(classStr);\n  btn.classList.remove(classStr);\n}\n\nfunction localPagWatchedLib(evt) {\n   const isWatchedActive = Boolean(document.querySelector('.watched-btn-js.active'));\n   const target = evt.target.textContent;\n\n  if (evt.target.nodeName !== 'LI' || target === \"...\") {\n    return;\n  }\n\n  if (target === \"🡸\") {\n    isWatchedActive ? watchedLocal.pagLeft() : queueLocal.pagLeft();\n\n  } else if (target === \"🡺\") {\n    isWatchedActive ? watchedLocal.pagRight() : queueLocal.pagRight();\n\n  } else {\n    isWatchedActive ? watchedLocal.peakedPage(target) : queueLocal.peakedPage(target);\n  }  \n}\n","import { CURRENT_MOVIES, watche, queue, WATCHE, QUEUE } from './local.js';\nimport { GENRES_MOVIES } from './get-genres';\n\nconst backdrop = document.querySelector('.backdrop');\nconst modalMovie = document.querySelector('.modal__movie');\nconst watchedBtn = document.querySelector('.watched-btn-js');\n\nfunction showMovieMain(e) {\n  const film = getFilmMain(e, '.card__item', CURRENT_MOVIES);\n\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue);\n  eventListeners(closeModal, addFilm);\n  backdrop.hidden = false;\n}\n\nfunction showMovieLibrary(e) {\n  const film = getFilmLibrary(e, '.card__item', watchedOrQueue());\n\n  const checkWatched = checkLibrary(watche, film);\n  const checkQueue = checkLibrary(queue, film);\n\n  createMovieInfo(film, GENRES_MOVIES, checkWatched, checkQueue);\n  eventListeners(closeModal, addFilm);\n\n  backdrop.hidden = false;\n}\n\nfunction getFilmMain(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n  return JSON.parse(localStorage.getItem(fromStoarage)).results.find(\n    movie => movie.id === movieId\n  );\n}\n\nfunction getFilmLibrary(e, element, fromStoarage) {\n  const movieId = Number(e.target.closest(element).id);\n  return JSON.parse(localStorage.getItem(fromStoarage)).find(\n    movie => movie.id === movieId\n  );\n}\n\n// розмітка з інфо про фільм у модальному вікні\nfunction createMovieInfo(movie, genresList, checkWatched, checkQueue) {\n  const modalMovieMarkup = `<div class=\"movie__img-container\">\n  <img class='movie__img'\n    alt=\"movie poster\"\n    src=\"https://image.tmdb.org/t/p/w500/${movie.poster_path}\"\n  />\n</div>\n      <div class=\"movie__info\">\n      <h2 class=\"movie__title\">${movie.title}</h2>\n      <table class=\"movie__details\">\n      <tbody>\n      <tr>\n      <td class='movie__detail modal-text--left-column modal-text'>Vote/Votes</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">\n      <span class=\"movie__detail--accent\">\n      ${movie.vote_average.toFixed(1)} </span\n      >/ ${movie.vote_count}\n      </td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Popularity</td>\n      <td class=\"movie__detail modal-text modal-text--line-high\">${movie.popularity.toFixed(\n        1\n      )}</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Original title</td>\n      <td class=\"movie__detail modal-text modal-text--uppercase movie__detail-right-column\">${\n        movie.original_title\n      }</td>\n      </tr>\n      <tr>\n      <td class=\"movie__detail modal-text--left-column modal-text\">Genres</td>\n      <td class=\"movie__detail modal-text movie__detail-right-column\">${genresConvertor(\n        movie.genre_ids,\n        genresList\n      )}</td>\n      </tr>\n          </tbody>\n          </table>\n          \n          <h3 class=\"movie__about modal-text modal-text--uppercase\">About</h3>\n      <p class=\"movie__description modal-text\">${movie.overview}</p>\n      \n      <div class=\"movie__add-buttons\">\n      <button class='modal__movie-btn modal-text modal-text--uppercase trailer-btn' data-movie-id=\"${\n        movie.id\n      }\">watch trailer</button>\n        <button class=\"modal__movie-btn modal-text modal-text--uppercase js-movie__add-btn--watched\">${\n          checkWatched ? 'remove from ' : 'add to '\n        }watched</button>\n        <button class=\"modal__movie-btn modal-text modal-text--uppercase js-movie__add-btn--queue\">${\n          checkQueue ? 'remove from ' : 'add to '\n        }queue</button>\n      </div>\n      </div>\n  `;\n  modalMovie.id = movie.id;\n  modalMovie.innerHTML = modalMovieMarkup;\n}\n\n// функції для закриття модального вікна\nconst closeModal = {\n  onBackdropClick(e) {\n    if (e.target.parentElement.nodeName === 'BODY') {\n      backdrop.hidden = true;\n      backdrop.removeEventListener('click', this.onBackdropClick);\n    }\n  },\n\n  onEsc(e) {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    backdrop.hidden = true;\n    document.removeEventListener('keydown', this.onEsc);\n  },\n\n  onCloseBtn() {\n    backdrop.hidden = true;\n  },\n};\n\n// функції додавання фільмів у список переглянутих та у чергу\nconst addFilm = {\n  toWatched(e) {\n    if (e.currentTarget.textContent === 'add to watched') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        watche,\n        WATCHE,\n        'watched'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', watche, WATCHE, 'watched');\n    }\n  },\n\n  toQueue(e) {\n    if (e.currentTarget.textContent === 'add to queue') {\n      addToWatchedOrQueue(\n        e,\n        '.modal__movie',\n        CURRENT_MOVIES,\n        queue,\n        QUEUE,\n        'queue'\n      );\n    } else {\n      removeFromWatchedOrQueue(e, '.modal__movie', queue, QUEUE, 'queue');\n    }\n  },\n};\n\nfunction addToWatchedOrQueue(e, element, fromStoarage, local, key, btn) {\n  const film = getFilmMain(e, element, fromStoarage);\n  local.push(film);\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `remove from ${btn}`;\n}\n\nfunction removeFromWatchedOrQueue(e, element, local, key, btn) {\n  const films = JSON.parse(localStorage.getItem(key));\n  const movieId = Number(e.target.closest(element).id);\n  films.forEach((film, i) => {\n    film.id === movieId ? local.splice(i, 1) : film;\n  });\n  localStorage.setItem(key, JSON.stringify(local));\n  e.currentTarget.textContent = `add to ${btn}`;\n}\n\n// додає та видаляє слухачі подій\nfunction eventListeners(closeModal, addFilm) {\n  const modalCloseBtn = document.querySelector('.modal-window__close-btn');\n  const modalBtns = {\n    addToWatched: document.querySelector('.js-movie__add-btn--watched'),\n    addToQueue: document.querySelector('.js-movie__add-btn--queue'),\n  };\n\n  modalBtns.addToWatched.addEventListener('click', addFilm.toWatched);\n  modalBtns.addToQueue.addEventListener('click', addFilm.toQueue);\n  modalCloseBtn.addEventListener('click', closeModal.onCloseBtn);\n  backdrop.addEventListener('click', closeModal.onBackdropClick);\n  document.addEventListener('keydown', closeModal.onEsc);\n}\n\nfunction genresConvertor(movieGenres, genresList) {\n  return movieGenres\n    .map(genre => {\n      const allGenres = JSON.parse(localStorage.getItem(genresList));\n      return allGenres[genre];\n    })\n    .join(', ');\n}\n\nfunction checkLibrary(local, film) {\n  if (local.length === 0) {\n    return;\n  }\n\n  return local.find(movie => movie.id === film.id);\n}\n\nfunction watchedOrQueue() {\n  if (watchedBtn.classList.contains('active')) {\n    return WATCHE;\n  } else {\n    return QUEUE;\n  }\n}\nexport { showMovieMain, showMovieLibrary };\n","import { watche, queue } from './local.js';\nimport { createMovieCard } from './createMovieCard';\nimport { card } from './local';\nimport { watchedLocal } from './watched';\nimport { showMovieLibrary } from './modal-window.js';\n\nconst divContainer = document.querySelector('#main');\nconst header = document.querySelector('.library-header');\n\nexport function checkDataRenderPage(data) {\n  if (!data || !data.length) {\n    divContainer.classList.add('notification-bcg');\n    header.classList.add('library-header-notification');\n    return `<p class=\"notification-desc\">\n            Nothing here yet, go back and select a movie.\n            </p>`;\n  }\n  header.classList.remove('library-header-notification');\n  divContainer.classList.remove('notification-bcg');\n  return createMovieCard(data);\n}\n\nwatchedLocal.paginationRender();\ncard.addEventListener('click', showMovieLibrary)\n/* card.insertAdjacentHTML('beforeend', checkDataRenderPage(watche)); */\n","const watchedBtn = document.querySelector('.watched-btn-js');\nconst queueBtn = document.querySelector('.queue-btn-js');\nqueueBtn.addEventListener('click', onClickQueueBtn);\nfunction onClickQueueBtn() {\n  onActiveQueueBtn();\n}\nfunction onActiveQueueBtn() {\n  queueBtn.classList.add('active');\n  watchedBtn.classList.remove('active');\n}\n"],"names":["$6b9509140fd98767$export$f4349c77a39598c6","JSON","parse","localStorage","getItem","$6b9509140fd98767$export$4f7fa46ff53e516f","$6b9509140fd98767$export$aa3e815946b80764","document","querySelector","$d2a9bc40eacd6bf8$export$b5b6693b5298569f","genre_ids","result","map","id","length","splice","push","$9134abd8877f9bb7$export$9d27b867a89df126","data","poster_path","original_title","title","overview","release_date","Date","now","release","path","substr","join","fetch","then","json","respond","genresList","genres","reduce","acc","name","setItem","stringify","$450475fd974e5d04$export$aff35cc3e96af4ed","$450475fd974e5d04$export$b92778d65fa650ce","paginate","arr","pageNumber","pageSize","slice","paginationRender","this","innerHTML","$48388ab6357ab7ce$export$c7201ec45e1bf459","pagedArr","pageNum","$450475fd974e5d04$var$paginationLib","pageAll","pagLeft","pagRight","peakedPage","actPage","Number","constructor","category","Math","round","currPage","allPages","markupControls","$7126a8cfa5cf9b17$var$btnWatch","$7126a8cfa5cf9b17$var$btnQueue","$7126a8cfa5cf9b17$var$containerBtn","$7126a8cfa5cf9b17$export$40df768da7845352","$7126a8cfa5cf9b17$var$queueLocal","$7126a8cfa5cf9b17$var$toggleClassBtn","classStr","btn","current","classList","add","remove","addEventListener","target","contains","evt","isWatchedActive","Boolean","textContent","nodeName","$1aa81d6d0cd85e48$var$backdrop","$1aa81d6d0cd85e48$var$modalMovie","$1aa81d6d0cd85e48$var$watchedBtn","$1aa81d6d0cd85e48$var$getFilmMain","e","element","fromStoarage","movieId","closest","results","find","movie","$1aa81d6d0cd85e48$var$createMovieInfo","checkWatched","checkQueue","modalMovieMarkup","vote_average","toFixed","vote_count","popularity","movieGenres","genre","$1aa81d6d0cd85e48$var$genresConvertor","$1aa81d6d0cd85e48$var$closeModal","onBackdropClick","parentElement","hidden","removeEventListener","onEsc","code","onCloseBtn","$1aa81d6d0cd85e48$var$addFilm","toWatched","currentTarget","$1aa81d6d0cd85e48$var$addToWatchedOrQueue","$1aa81d6d0cd85e48$var$removeFromWatchedOrQueue","toQueue","local","key","film","films","forEach","i","$1aa81d6d0cd85e48$var$eventListeners","closeModal1","addFilm1","modalCloseBtn","modalBtns","addToWatched","addToQueue","$1aa81d6d0cd85e48$var$checkLibrary","$48388ab6357ab7ce$var$divContainer","$48388ab6357ab7ce$var$header","$1aa81d6d0cd85e48$var$getFilmLibrary","$a595e1401ec493e7$var$watchedBtn","$a595e1401ec493e7$var$queueBtn"],"version":3,"file":"library.72bf6e8a.js.map"}