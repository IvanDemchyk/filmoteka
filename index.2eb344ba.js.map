{"mappings":"YAAAA,QAAQC,IAAI,aCAL,IAAMC,EAAiB,iBAGRC,KAAKC,MAAMC,aAAaC,QAFxB,WAGDH,KAAKC,MAAMC,aAAaC,QAFxB,UCFrBN,QAAQC,IAAI,aAGZ,IAAMM,EAAOC,SAASC,cAAc,SAepC,IFjBuCC,KEiB5B,EFhBFC,MACL,kGAAoGC,OAAFF,IAClGG,MAAK,SAAAC,G,OAAQA,EAAKC,M,KEeDF,MAAK,SAAAG,GACxBX,aAAaY,QAAQf,EAAgBC,KAAKe,UAAUF,EAAIG,UACxDZ,EAAKa,mBACH,YACgBjB,KAAKC,MAAMC,aAAaC,QAAQJ,IAjB/CmB,KACC,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAaC,EAAIF,EAAJE,KAAMC,EAAKH,EAALG,MAAOC,EAASJ,EAATI,UAAqBC,GAAFL,EAARM,SAAsBN,EAAZK,cAAcE,EAAEP,EAAFO,GAC9D,MAAO,mCACyCjB,OADNiB,EAAG,8DAEfjB,OADkBW,EAAY,uEAExBX,OADNY,UAAQC,EAAM,qDACOb,OAAfc,EAAU,OAA8Bd,OAAzBe,EAAaG,OAAO,EAAE,GAAG,0B,IAI/EC,KAAK,I","sources":["src/js/api-films.js","src/js/local.js","src/js/get-films.js"],"sourcesContent":["console.log(\"api-films\")\nexport default function getFetchMovies(p) {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=0b11624b950ea9c4284f61844023b09c&page=${p}`\n  ).then(data => data.json());\n}","export const CURRENT_MOVIES = \"current_movies\";\nexport const WATCHE = \"watche\";\nexport const QUEUE = \"queue\";\nexport const watche = JSON.parse(localStorage.getItem(WATCHE)) || [];\nexport const queue = JSON.parse(localStorage.getItem(QUEUE)) || [];\n","console.log('get-films');\nimport getFetchMovies from './api-films.js';\nimport { CURRENT_MOVIES, WATCHE, QUEUE, watche, queue } from './local.js';\nconst card = document.querySelector('.card');\nfunction createMovieCard(data) {\n  const mov = data\n    .map(\n      ({ poster_path, name, title, genre_ids, overview, release_date, id }) => {\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" class=\"card__img\" />\n            <h2 class=\"card__title\">${name ?? title}</h2>\n            <p class=\"card__desc\">Genres: ${genre_ids} | ${release_date.substr(0,4)}</p>\n            </li>`;\n      }\n    )\n    .join('');\n  return mov;\n}\nlet page = 1;\ngetFetchMovies(page).then(res => {\n  localStorage.setItem(CURRENT_MOVIES, JSON.stringify(res.results));\n  card.insertAdjacentHTML(\n    'beforeend',\n    createMovieCard(JSON.parse(localStorage.getItem(CURRENT_MOVIES)))\n  );\n});\n\n// card.addEventListener('click', e => {\n//   console.dir(e.target.textContent);\n//   let saveData = JSON.parse(localStorage.getItem(CURRENT_MOVIES));\n//   console.log(saveData);\n//   saveData.forEach(el =>\n//     el.title === e.target.textContent ? watche.push(el) : console.log('no')\n//   );\n//   console.log(watche);\n//   localStorage.setItem(WATCHE, JSON.stringify(watche));\n// //   const r = saveData.filter((el) => {\n// //     el.title ?? el.name === e.target.textContent;\n// //     console.log(el);\n// //   });\n// //   console.log(r);\n// //   watche.push(r);\n// //   console.log(watche);\n// //   localStorage.setItem(WATCHE, watche.push(JSON.stringify(r)));\n// });\n"],"names":["console","log","$0a9a4be3ce49d749$export$48346d11afd5eac2","JSON","parse","localStorage","getItem","$3caa3cccdb9cee0a$var$card","document","querySelector","p","fetch","concat","then","data","json","res","setItem","stringify","results","insertAdjacentHTML","map","param","poster_path","name","title","genre_ids","release_date","overview","id","substr","join"],"version":3,"file":"index.2eb344ba.js.map"}