!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n("Ur9Nn");var r="genresList";function s(e){var t=e.map((function(e){return JSON.parse(localStorage.getItem(r))[e]}));return t.length>2&&(t.splice(2,t.length-2),t.push("other")),t}function c(e){return e.map((function(e){var t=e.poster_path,i=e.original_title,a=e.title,n=e.genre_ids,r=e.overview,c=e.release_date,l=e.id;return'<li class="card__item list" id="'.concat(l,'">\n            <img src="https://image.tmdb.org/t/p/w500/').concat(t,'" loading="lazy" alt="').concat(r,'" class="card__img" />\n            <h2 class="card__title">').concat(null!=a?a:i,'</h2>\n            <p class="card__desc">').concat(s(n).join(", ")," | ").concat(c.substr(0,4),"\n            </p>\n            </li>")})).join("")}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e8369cced440ebe3b010b622661df24b&language=en-US").then((function(e){return e.json()})).then((function(e){var t=e.genres.reduce((function(e,t){var i=t.id,a=t.name;return e[i]=a,e}),{});localStorage.setItem(r,JSON.stringify(t))})),n("Ur9Nn");var l=n("8MBJY"),o=n("a2hTj"),u=n("Ur9Nn"),d=document.querySelector(".js-pagination-lib"),g=function(){"use strict";function t(i){e(l)(this,t),this.arr=i,this.pageNum=1,this.pageAll=Math.round((this.arr.length-1)/5),this.pageSize=5,this.pagedArr}return e(o)(t,[{key:"paginate",value:function(e,t,i){return e.slice((t-1)*i,t*i)}},{key:"paginationRender",value:function(){this.arr.length<5?u.card.innerHTML=S(this.arr):(this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll))}},{key:"pagLeft",value:function(){this.pageNum-=1,this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll)}},{key:"pagRight",value:function(){this.pageNum+=1,this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll)}},{key:"peakedPage",value:function(e){this.pageNum=Number(e),this.pagedArr=this.paginate(this.arr,this.pageNum,this.pageSize),u.card.innerHTML=S(this.pagedArr),h(this.pageNum,this.pageAll)}}]),t}();function h(e,t){var i="",a=e-1,n=e+1,r=e+2;e>1&&(i+="<li class='arrows arrow-left'>&#129144;</li>",i+='<li class="firstInt">1</li>'),e>4&&(i+='<li class="dots">...</li>'),e>3&&(i+='<li class="two-left">'.concat(e-2,"</li>")),e>2&&(i+="<li>".concat(a,"</li>")),i+="<li class='active'>".concat(e,"</li>"),t-1>e&&(i+="<li >".concat(n,"</li>")),t-2>e&&(i+="<li >".concat(r,"</li>")),t-3>e&&(i+='<li class="dots">...</li>'),t>e&&(i+='<li class="lastInt">'.concat(t,"</li>"),i+="<li class='arrows arrow-right'>&#129146</li>"),d.innerHTML=i}u=n("Ur9Nn"),u=n("Ur9Nn");var p=document.querySelector(".watched-btn-js"),f=(document.querySelector(".queue-btn-js"),document.querySelector(".library-header__buttons")),m=JSON.parse(localStorage.getItem(u.CURRENT_MOVIES)).results,v=new g(m),b=new g(m);function L(e,t,i){i.classList.add(e),t.classList.remove(e)}f.addEventListener("click",(function(e){var t=e.target;if(!t.classList.contains("library-header__btn"))return;t.classList.contains("queue-btn-js")&&(u.card.innerHTML="",b.paginationRender(),L("active",p,t));t.classList.contains("watched-btn-js")&&(u.card.innerHTML="",v.paginationRender(),L("active",p,t))})),d.addEventListener("click",(function(e){var t=Boolean(document.querySelector(".watched-btn-js.active")),i=e.target.textContent;if("LI"!==e.target.nodeName||"..."===i)return;"ðŸ¡¸"===i?t?v.pagLeft():b.pagLeft():"ðŸ¡º"===i?t?v.pagRight():b.pagRight():t?v.peakedPage(i):b.peakedPage(i)}));var y=document.querySelector("#main"),N=document.querySelector(".library-header");function S(e){return e&&e.length?(N.classList.remove("library-header-notification"),y.classList.remove("notification-bcg"),c(e)):(y.classList.add("notification-bcg"),N.classList.add("library-header-notification"),'<p class="notification-desc">\n            Nothing here yet, go back and select a movie.\n            </p>')}v.paginationRender();var _=document.querySelector(".watched-btn-js"),w=document.querySelector(".queue-btn-js");w.addEventListener("click",(function(){w.classList.add("active"),_.classList.remove("active")}))}();
//# sourceMappingURL=library.d886db95.js.map
